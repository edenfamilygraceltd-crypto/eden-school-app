<!-- 
  üîí SNIPPET √Ä AJOUTER AU HTML DES PAGES PROT√âG√âES
  Pour impl√©menter rapidement la s√©curit√© sur d'autres pages
-->

<!-- 1Ô∏è‚É£ AJOUTER DANS LE <HEAD> DE CHAQUE PAGE PROT√âG√âE -->
<script src="security-auth.js"></script>
<script src="security-tests.js"></script><!-- Optionnel: pour tests -->

<!-- 2Ô∏è‚É£ AJOUTER DANS LE <SCRIPT> PRINCIPAL (apr√®s DOMContentLoaded) -->
<script>
  // üîí PROT√âGER LA PAGE (remplacer par le nom r√©el du fichier)
  if (!protectPage('votre-page.html')) {
    throw new Error('Acc√®s non autoris√© - Redirection en cours...');
  }
</script>

<!-- 3Ô∏è‚É£ AJOUTER UN BOUTON DE D√âCONNEXION DANS LA NAVIGATION -->
<button onclick="secureLogout()" class="btn btn-danger">
  <i class="fas fa-sign-out-alt"></i> D√©connexion
</button>

<!-- 4Ô∏è‚É£ AFFICHER LES INFORMATIONS DE L'UTILISATEUR (OPTIONNEL) -->
<script>
  window.addEventListener('DOMContentLoaded', () => {
    const user = getCurrentUser();
    if (user) {
      console.log('Utilisateur connect√©:', user.name, `(${user.role})`);
      
      // Afficher dans l'interface
      const userDisplayEl = document.getElementById('user-display');
      if (userDisplayEl) {
        userDisplayEl.textContent = `${user.name} - ${user.role}`;
      }
    }
  });
</script>

<!-- 5Ô∏è‚É£ EXEMPLE COMPLET MINIMAL -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Ma Page Prot√©g√©e</title>
  <script src="security-auth.js"></script>
</head>
<body>
  <h1>Bienvenue <span id="user-display"></span></h1>
  <button onclick="secureLogout()">D√©connexion</button>

  <script>
    // üîí Prot√©ger la page
    if (!protectPage('ma-page.html')) {
      throw new Error('Acc√®s non autoris√©');
    }

    // Afficher les infos utilisateur
    const user = getCurrentUser();
    if (user) {
      document.getElementById('user-display').textContent = user.name;
    }
  </script>
</body>
</html>

<!-- 
  ================================================================================
  
  üîí CHECKLIST D'IMPL√âMENTATION POUR UNE NOUVELLE PAGE PROT√âG√âE:

  ‚úÖ 1. Ajouter <script src="security-auth.js"></script> dans le <head>
  ‚úÖ 2. Ajouter le code de protection protectPage() au d√©marrage
  ‚úÖ 3. Ajouter un bouton de d√©connexion secureLogout()
  ‚úÖ 4. Tester l'acc√®s sans authentification (doit rediriger)
  ‚úÖ 5. Tester avec un r√¥le invalide (doit refuser)
  ‚úÖ 6. V√©rifier les logs dans la console (F12)

  ================================================================================
-->
