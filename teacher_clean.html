<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eden Family School - Portail Enseignant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            color: white;
            padding: 25px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 { font-size: 28px; display: flex; align-items: center; gap: 15px; }
        .teacher-info { text-align: right; }
        .btn-logout {
            margin-top: 10px;
            background: #dc2626;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        .btn-logout:hover { background: #b91c1c; transform: translateY(-2px); }

        .nav-tabs {
            background: #f9fafb;
            padding: 0;
            display: flex;
            border-bottom: 2px solid #e5e7eb;
        }

        .nav-tab {
            padding: 15px 30px;
            cursor: pointer;
            border: none;
            background: transparent;
            font-size: 16px;
            font-weight: 600;
            color: #6b7280;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .nav-tab:hover { background: #f3f4f6; color: #2563eb; }
        .nav-tab.active { color: #2563eb; border-bottom-color: #2563eb; background: white; }

        .content { padding: 40px; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.5s; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section { margin-bottom: 40px; }

        .section-title {
            font-size: 22px; font-weight: bold; color: #1f2937;
            margin-bottom: 20px; padding-bottom: 15px;
            border-bottom: 4px solid #2563eb;
            display: flex; align-items: center; gap: 10px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px; margin-bottom: 25px;
        }

        .form-group { display: flex; flex-direction: column; }

        label {
            font-weight: 600; margin-bottom: 10px;
            color: #374151; font-size: 15px;
        }

        select, input, textarea {
            padding: 14px; border: 2px solid #e5e7eb; border-radius: 10px;
            font-size: 15px; transition: all 0.3s; background: white;
        }

        select:focus, input:focus, textarea:focus {
            outline: none; border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .bulletin-type-selector {
            display: grid; grid-template-columns: 1fr 1fr;
            gap: 20px; margin-bottom: 30px;
        }

        .type-card {
            padding: 30px; border: 3px solid #e5e7eb; border-radius: 15px;
            cursor: pointer; text-align: center; transition: all 0.3s;
            background: linear-gradient(135deg, #f9fafb 0%, #ffffff 100%);
        }

        .type-card:hover {
            border-color: #2563eb; transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.2);
        }

        .type-card.active {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border-color: #2563eb; border-width: 4px;
        }

        .type-card h3 { margin-bottom: 10px; color: #1f2937; font-size: 20px; }

        .students-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px; margin-top: 25px;
        }

        .student-card {
            background: linear-gradient(135deg, #f9fafb 0%, #ffffff 100%);
            border: 3px solid #e5e7eb; border-radius: 15px;
            padding: 20px; cursor: pointer; transition: all 0.3s;
        }

        .student-card:hover {
            border-color: #2563eb; transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.15);
        }

        .student-card.selected {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border-color: #2563eb; border-width: 4px;
        }

        .student-name { font-weight: bold; font-size: 18px; margin-bottom: 8px; color: #1f2937; }
        .student-code { color: #6b7280; font-size: 14px; margin-bottom: 5px; }

        .btn {
            padding: 14px 28px; border: none; border-radius: 10px;
            font-weight: 600; cursor: pointer; transition: all 0.3s;
            font-size: 16px; display: inline-flex; align-items: center; gap: 8px;
        }

        .btn-primary { background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(37, 99, 235, 0.4); }
        .btn-success { background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; }
        .btn-success:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(16, 185, 129, 0.4); }
        .btn-danger { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white; }
        .btn-danger:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(239, 68, 68, 0.4); }

        .action-bar { display: flex; gap: 15px; margin-top: 30px; justify-content: flex-end; flex-wrap: wrap; }
        .hidden { display: none !important; }

        table {
            width: 100%; border-collapse: collapse; margin: 20px 0;
            background: white; border-radius: 10px; overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        th, td { border: 2px solid #e5e7eb; padding: 12px; text-align: center; }

        th {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            font-size: 13px; font-weight: 700; color: #1f2937;
        }

        td { font-size: 13px; }
        .subject-name { text-align: left !important; padding-left: 15px !important; font-weight: 600; }

        .info-box {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            padding: 20px; border-radius: 12px; margin-bottom: 25px;
            border: 2px solid #0284c7;
        }

        .note-input, .conduite-select {
            width: 100%; padding: 8px; border: 2px solid #e5e7eb;
            border-radius: 6px; text-align: center; transition: all 0.3s;
        }

        .note-input:focus, .conduite-select:focus { 
            border-color: #2563eb; outline: none; 
        }

        .loading { text-align: center; padding: 40px; font-size: 18px; color: #6b7280; }

        .loading-spinner {
            display: inline-block; width: 40px; height: 40px;
            border: 4px solid #f3f4f6; border-top-color: #2563eb;
            border-radius: 50%; animation: spin 1s linear infinite;
        }

        @keyframes spin { to { transform: rotate(360deg); } }

        .alert {
            padding: 15px 20px; border-radius: 10px;
            margin-bottom: 20px; display: flex; align-items: center; gap: 10px;
            justify-content: space-between;
        }

        .alert-success { background: #d1fae5; color: #065f46; border: 2px solid #10b981; }
        .alert-error { background: #fee2e2; color: #991b1b; border: 2px solid #ef4444; }
        .alert-info { background: #dbeafe; color: #1e40af; border: 2px solid #3b82f6; }

        .bulletin-list { display: grid; gap: 15px; margin-top: 20px; }

        .bulletin-item {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .bulletin-item:hover {
            border-color: #2563eb;
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.1);
        }

        .bulletin-info h4 { font-size: 16px; color: #1f2937; margin-bottom: 5px; }
        .bulletin-info p { font-size: 14px; color: #6b7280; }
        .bulletin-actions { display: flex; gap: 10px; }
        .btn-sm { padding: 8px 16px; font-size: 14px; }

        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); display: flex; justify-content: center;
            align-items: center; z-index: 1000;
        }

        .modal-content {
            background: white; padding: 30px; border-radius: 15px;
            max-width: 500px; width: 90%;
        }

        @media (max-width: 768px) {
            .bulletin-type-selector { grid-template-columns: 1fr; }
            .students-grid { grid-template-columns: 1fr; }
            .action-bar { flex-direction: column; }
            .btn { width: 100%; justify-content: center; }
            .nav-tabs { overflow-x: auto; }
            .bulletin-item { flex-direction: column; gap: 15px; }
            .bulletin-actions { width: 100%; justify-content: stretch; }
            .bulletin-actions button { flex: 1; }
        }

        @media print {
            body { background: white; padding: 0; }
            .container { box-shadow: none; }
            .header, .nav-tabs, .action-bar, .btn { display: none !important; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div>
                <h1>üè´ EDEN FAMILY SCHOOL</h1>
                <p style="margin-top: 5px; opacity: 0.9;">Portail Enseignant - Gestion des Bulletins</p>
            </div>
            <div class="teacher-info">
                <div style="font-size: 18px; font-weight: 600;" id="teacherNameHeader">üë®‚Äçüè´ Enseignant(e)</div>
                <div style="opacity: 0.9; margin-top: 5px;" id="teacherClassHeader">Classe: -</div>
                <button class="btn-logout" onclick="logout()">üö™ D√©connexion</button>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('create')">
                <i class="fas fa-plus-circle"></i> Cr√©er un Bulletin
            </button>
            <button class="nav-tab" onclick="switchTab('list')">
                <i class="fas fa-list"></i> Mes Bulletins
            </button>
        </div>

        <div class="content">
            <div id="createTab" class="tab-content active">
                <div class="section">
                    <div class="section-title">üìã Type de Bulletin</div>
                    <div class="bulletin-type-selector">
                        <div class="type-card active" onclick="selectBulletinType('conduite')" id="conduiteCard">
                            <h3>üìù Bulletin de Conduite</h3>
                            <p style="color: #6b7280; margin-top: 10px;">Pour Maternelle et √©valuation comportementale</p>
                            <p style="color: #2563eb; font-weight: 600; margin-top: 15px;">Notes: Excellent (E), Tr√®s Bien (TB), Bien (B)</p>
                        </div>
                        <div class="type-card" onclick="selectBulletinType('academique')" id="academiqueCard">
                            <h3>üìö Bulletin Acad√©mique</h3>
                            <p style="color: #6b7280; margin-top: 10px;">Pour la section Maternelle - Notes acad√©miques</p>
                            <p style="color: #2563eb; font-weight: 600; margin-top: 15px;">Travaux Journaliers et Examens</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <div class="section-title">üéì Trimestre et Date</div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Trimestre</label>
                            <select id="trimestreSelect">
                                <option value="1">1er Trimestre</option>
                                <option value="2">2√®me Trimestre</option>
                                <option value="3">3√®me Trimestre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Date de Proclamation</label>
                            <input type="date" id="proclamationDate">
                        </div>
                    </div>
                </div>

                <div class="section" id="studentsSection">
                    <div class="section-title">üë• √âl√®ves de ma classe</div>
                    <div id="loadingStudents" class="loading">
                        <div class="loading-spinner"></div>
                        <p>Chargement des √©l√®ves...</p>
                    </div>
                    <div class="students-grid" id="studentsGrid"></div>
                </div>

                <div class="section hidden" id="bulletinFormSection">
                    <div class="section-title">‚úèÔ∏è Remplir le Bulletin</div>
                    <div id="alertContainer"></div>

                    <div class="info-box">
                        <div class="form-row">
                            <div><strong>Nom et Pr√©noms:</strong> <span id="studentNameDisplay"></span></div>
                            <div><strong>Code:</strong> <span id="studentCodeDisplay"></span></div>
                            <div><strong>Classe:</strong> <span id="studentClassDisplay"></span></div>
                            <div><strong>Ann√©e Scolaire:</strong> 2025-2026</div>
                        </div>
                    </div>

                    <div id="conduiteForm" class="hidden">
                        <h3 style="margin-bottom: 20px; color: #1f2937;">üìù √âvaluation de la Conduite</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th style="text-align: left; width: 60%;">Crit√®res d'√©valuation</th>
                                    <th style="width: 40%;">Note / Mention</th>
                                </tr>
                            </thead>
                            <tbody id="conduiteTableBody"></tbody>
                        </table>

                        <div style="margin-top: 30px;">
                            <h3 style="margin-bottom: 15px; color: #1f2937;">üí¨ Commentaire de l'Enseignant</h3>
                            <textarea id="commentaireConduite" rows="4" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-family: inherit;" placeholder="Entrez vos observations et commentaires..."></textarea>
                        </div>
                    </div>

                    <div id="academiqueForm" class="hidden">
                        <h3 style="margin-bottom: 20px; color: #1f2937;">üìä Notes Acad√©miques</h3>
                        <div style="overflow-x: auto;">
                            <table id="academiqueTable"></table>
                        </div>

                        <div style="margin-top: 30px;">
                            <h3 style="margin-bottom: 15px; color: #1f2937;">üí¨ Commentaire de l'Enseignant</h3>
                            <textarea id="commentaireAcademique" rows="4" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-family: inherit;" placeholder="Entrez vos observations et commentaires..."></textarea>
                        </div>
                    </div>

                    <div class="action-bar">
                        <button class="btn btn-success" onclick="saveBulletin()">
                            <i class="fas fa-save"></i> Enregistrer le Bulletin
                        </button>
                        <button class="btn btn-primary" onclick="previewBulletin()">
                            <i class="fas fa-eye"></i> Aper√ßu
                        </button>
                    </div>
                </div>
            </div>

            <div id="listTab" class="tab-content">
                <div class="section">
                    <div class="section-title">üìö Mes Bulletins Cr√©√©s</div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Filtrer par Trimestre</label>
                            <select id="filterTrimestre">
                                <option value="">Tous les trimestres</option>
                                <option value="1">1er Trimestre</option>
                                <option value="2">2√®me Trimestre</option>
                                <option value="3">3√®me Trimestre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Filtrer par Type</label>
                            <select id="filterType">
                                <option value="">Tous les types</option>
                                <option value="conduite">Conduite</option>
                                <option value="academique">Acad√©mique</option>
                            </select>
                        </div>
                        <div class="form-group" style="display: flex; align-items: flex-end;">
                            <button class="btn btn-primary" onclick="applyFilters()" style="width: 100%;">
                                <i class="fas fa-filter"></i> Appliquer les filtres
                            </button>
                        </div>
                    </div>

                    <div id="loadingBulletins" class="loading hidden">
                        <div class="loading-spinner"></div>
                        <p>Chargement des bulletins...</p>
                    </div>

                    <div class="bulletin-list" id="bulletinList"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="deleteModal" class="hidden modal">
        <div class="modal-content">
            <h3 style="color: #1f2937; margin-bottom: 15px;">‚ö†Ô∏è Confirmer la suppression</h3>
            <p style="color: #6b7280; margin-bottom: 25px;">√ätes-vous s√ªr de vouloir supprimer ce bulletin ? Cette action est irr√©versible.</p>
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button class="btn btn-primary" onclick="closeDeleteModal()">Annuler</button>
                <button class="btn btn-danger" onclick="confirmDeleteBulletin()">
                    <i class="fas fa-trash"></i> Supprimer
                </button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCx6kmJ59x0tLt4vh_3czvEEQrtw4aWFHs",
            authDomain: "edendatabase-7e1ed.firebaseapp.com",
            databaseURL: "https://edendatabase-7e1ed-default-rtdb.firebaseio.com",
            projectId: "edendatabase-7e1ed",
            storageBucket: "edendatabase-7e1ed.firebasestorage.app",
            messagingSenderId: "147248399046",
            appId: "1:147248399046:web:d0b433e755772bbe718dc7"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        const auth = firebase.auth();

        let teacher = null;
        let selectedStudent = null;
        let currentBulletinType = 'conduite';
        let allBulletins = [];
        let bulletinToDelete = null;
        let matieresMaternelle = [];
        let criteresConduite = [];
        let currentAnneeScolaire = '2025-2026';

        // Charger les configurations depuis Firebase
        async function loadConfigurations() {
            try {
                // Charger les mati√®res
                const matieresRef = db.ref('config/matieres/maternelle');
                const matieresSnapshot = await matieresRef.once('value');
                if (matieresSnapshot.exists()) {
                    matieresMaternelle = matieresSnapshot.val();
                    console.log('Mati√®res charg√©es depuis Firebase:', matieresMaternelle);
                } else {
                    // Valeurs par d√©faut si pas encore configur√© dans Firebase
                    matieresMaternelle = [
                        'Pre-math√©matique',
                        'Fran√ßais',
                        '√âtude du milieu',
                        'Fran√ßais langage',
                        'Art & Culture',
                        'Activit√© Physique et Motrice'
                    ];
                    // Sauvegarder les valeurs par d√©faut dans Firebase
                    await matieresRef.set(matieresMaternelle);
                }

                // Charger les crit√®res de conduite
                const criteresRef = db.ref('config/criteresConduite');
                const criteresSnapshot = await criteresRef.once('value');
                if (criteresSnapshot.exists()) {
                    criteresConduite = criteresSnapshot.val();
                    console.log('Crit√®res de conduite charg√©s depuis Firebase:', criteresConduite);
                } else {
                    // Valeurs par d√©faut si pas encore configur√© dans Firebase
                    criteresConduite = [
                        'Respect des enseignants et des camarades',
                        'Politesse et bonnes mani√®res',
                        'Ob√©issance aux consignes',
                        'Discipline en classe',
                        'Ponctualit√© et assiduit√©',
                        'Propret√© et hygi√®ne personnelle',
                        'Participation aux activit√©s',
                        'Esprit de partage et de collaboration'
                    ];
                    // Sauvegarder les valeurs par d√©faut dans Firebase
                    await criteresRef.set(criteresConduite);
                }

                // Charger l'ann√©e scolaire actuelle
                const anneeRef = db.ref('config/anneeScolaire');
                const anneeSnapshot = await anneeRef.once('value');
                if (anneeSnapshot.exists()) {
                    currentAnneeScolaire = anneeSnapshot.val();
                    console.log('Ann√©e scolaire charg√©e depuis Firebase:', currentAnneeScolaire);
                } else {
                    // Valeur par d√©faut
                    currentAnneeScolaire = '2025-2026';
                    await anneeRef.set(currentAnneeScolaire);
                }
            } catch (error) {
                console.error('Erreur lors du chargement des configurations:', error);
                // Utiliser les valeurs par d√©faut en cas d'erreur
                matieresMaternelle = [
                    'Pre-math√©matique',
                    'Fran√ßais',
                    '√âtude du milieu',
                    'Fran√ßais langage',
                    'Art & Culture',
                    'Activit√© Physique et Motrice'
                ];
                criteresConduite = [
                    'Respect des enseignants et des camarades',
                    'Politesse et bonnes mani√®res',
                    'Ob√©issance aux consignes',
                    'Discipline en classe',
                    'Ponctualit√© et assiduit√©',
                    'Propret√© et hygi√®ne personnelle',
                    'Participation aux activit√©s',
                    'Esprit de partage et de collaboration'
                ];
            }
        }

        auth.onAuthStateChanged(async function(user) {
            if (!user) {
                window.location.href = 'parent-portal.html';
                return;
            }

            try {
                // Charger les configurations depuis Firebase
                await loadConfigurations();

                // Chercher l'enseignant par email au lieu d'UID
                const snapshot = await db.ref('teachers').orderByChild('email').equalTo(user.email.toLowerCase()).once('value');
                
                if (!snapshot.exists()) {
                    showAlert('Aucun profil enseignant trouv√© pour cet email', 'error');
                    auth.signOut();
                    return;
                }
                
                // Prendre le premier r√©sultat
                const teacherKey = Object.keys(snapshot.val())[0];
                teacher = snapshot.val()[teacherKey];
                teacher.id = teacherKey; // Garder l'ancien ID pour compatibilit√©
                
                console.log('Donn√©es enseignant charg√©es depuis Firebase:', teacher);
                
                document.getElementById('teacherNameHeader').textContent = 'üë®‚Äçüè´ ' + (teacher.name || 'Enseignant');
                document.getElementById('teacherClassHeader').textContent = 'Classe: ' + (teacher.classe || '-');
                
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('proclamationDate').value = today;
                
                loadStudents();
            } catch (error) {
                console.error('Erreur:', error);
                showAlert('Erreur de connexion: ' + error.message, 'error');
            }
        });

        async function loadStudents() {
            if (!teacher || !teacher.classe) {
                showAlert('Classe non d√©finie pour cet enseignant', 'error');
                return;
            }

            const loadingDiv = document.getElementById('loadingStudents');
            const grid = document.getElementById('studentsGrid');

            loadingDiv.style.display = 'block';
            grid.innerHTML = '';

            try {
                // Charger les √©l√®ves depuis Firebase avec la vraie classe de l'enseignant
                const snapshot = await db.ref('students').orderByChild('classe').equalTo(teacher.classe).once('value');
                
                loadingDiv.style.display = 'none';

                if (!snapshot.exists()) {
                    grid.innerHTML = '<p style="text-align: center; color: #6b7280; padding: 40px;">Aucun √©l√®ve trouv√© dans votre classe.</p>';
                    console.log('Aucun √©l√®ve trouv√© pour la classe:', teacher.classe);
                    return;
                }

                const students = [];
                snapshot.forEach(function(childSnapshot) {
                    const student = childSnapshot.val();
                    student.id = childSnapshot.key;
                    students.push(student);
                });

                console.log('√âl√®ves charg√©s depuis Firebase:', students.length, '√©l√®ves pour la classe', teacher.classe);

                students.sort((a, b) => {
                    const nomA = (a.nom || '').toLowerCase();
                    const nomB = (b.nom || '').toLowerCase();
                    return nomA.localeCompare(nomB);
                });

                students.forEach(function(student) {
                    const card = document.createElement('div');
                    card.className = 'student-card';
                    card.onclick = function() { selectStudent(student); };

                    card.innerHTML = `
                        <div class="student-name">${student.nom || ''} ${student.prenom || ''}</div>
                        <div class="student-code">Code: ${student.code || 'N/A'}</div>
                        <div style="color: #6b7280; margin-top: 5px;">üìö ${student.classe || ''}</div>
                    `;

                    grid.appendChild(card);
                });
            } catch (error) {
                loadingDiv.style.display = 'none';
                console.error('Erreur lors du chargement des √©l√®ves:', error);
                showAlert('Erreur lors du chargement des √©l√®ves: ' + error.message, 'error');
            }
        }

        function selectStudent(student) {
            selectedStudent = student;

            document.querySelectorAll('.student-card').forEach(c => c.classList.remove('selected'));
            event.currentTarget.classList.add('selected');

            document.getElementById('studentNameDisplay').textContent = `${student.nom || ''} ${student.prenom || ''}`;
            document.getElementById('studentCodeDisplay').textContent = student.code || 'N/A';
            document.getElementById('studentClassDisplay').textContent = student.classe || '';

            showBulletinForm();
        }

        function selectBulletinType(type) {
            currentBulletinType = type;

            document.getElementById('conduiteCard').classList.remove('active');
            document.getElementById('academiqueCard').classList.remove('active');

            if (type === 'conduite') {
                document.getElementById('conduiteCard').classList.add('active');
            } else {
                document.getElementById('academiqueCard').classList.add('active');
            }

            if (selectedStudent) {
                showBulletinForm();
            }
        }

        function showBulletinForm() {
            document.getElementById('bulletinFormSection').classList.remove('hidden');

            if (currentBulletinType === 'conduite') {
                document.getElementById('conduiteForm').classList.remove('hidden');
                document.getElementById('academiqueForm').classList.add('hidden');
                loadConduiteForm();
            } else {
                document.getElementById('conduiteForm').classList.add('hidden');
                document.getElementById('academiqueForm').classList.remove('hidden');
                loadAcademiqueForm();
            }

            setTimeout(() => {
                document.getElementById('bulletinFormSection').scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        function loadConduiteForm() {
            const tbody = document.getElementById('conduiteTableBody');
            tbody.innerHTML = '';

            criteresConduite.forEach(critere => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="subject-name">${critere}</td>
                    <td>
                        <select class="conduite-select" data-critere="${critere}">
                            <option value="">S√©lectionner</option>
                            <option value="E">E - Excellent</option>
                            <option value="TB">TB - Tr√®s Bien</option>
                            <option value="B">B - Bien</option>
                        </select>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadAcademiqueForm() {
            const table = document.getElementById('academiqueTable');
            
            let html = `
                <thead>
                    <tr>
                        <th rowspan="2" style="text-align: left; width: 200px;">BRANCHES</th>
                        <th colspan="2">TRAVAUX JOURNAL</th>
                        <th colspan="2">EXAMEN</th>
                    </tr>
                    <tr>
                        <th>Note</th>
                        <th>Max</th>
                        <th>Note</th>
                        <th>Max</th>
                    </tr>
                </thead>
                <tbody>
            `;

            matieresMaternelle.forEach(matiere => {
                html += `
                    <tr>
                        <td class="subject-name">${matiere}</td>
                        <td><input type="number" class="note-input" data-matiere="${matiere}" data-type="travaux" min="0" step="0.5"></td>
                        <td><input type="number" class="note-input" data-matiere="${matiere}" data-type="travaux_max" min="0" step="0.5" value="60"></td>
                        <td><input type="number" class="note-input" data-matiere="${matiere}" data-type="examen" min="0" step="0.5"></td>
                        <td><input type="number" class="note-input" data-matiere="${matiere}" data-type="examen_max" min="0" step="0.5" value="40"></td>
                    </tr>
                `;
            });

            html += '</tbody>';
            table.innerHTML = html;
        }

        async function saveBulletin() {
            if (!selectedStudent) {
                showAlert('Veuillez s√©lectionner un √©l√®ve', 'error');
                return;
            }

            const proclamationDate = document.getElementById('proclamationDate').value;
            if (!proclamationDate) {
                showAlert('Veuillez s√©lectionner une date de proclamation', 'error');
                return;
            }

            try {
                const bulletinData = {
                    student: {
                        id: selectedStudent.id,
                        code: selectedStudent.code,
                        name: `${selectedStudent.nom || ''} ${selectedStudent.prenom || ''}`,
                        classe: selectedStudent.classe
                    },
                    type: currentBulletinType,
                    trimestre: parseInt(document.getElementById('trimestreSelect').value),
                    dateCreation: new Date().toISOString(),
                    dateProclamation: proclamationDate,
                    teacher: {
                        id: teacher.id,
                        name: teacher.name
                    },
                    anneeScolaire: currentAnneeScolaire,
                    statut: 'complet'
                };

                if (currentBulletinType === 'conduite') {
                    bulletinData.conduite = {};
                    let hasData = false;
                    
                    document.querySelectorAll('.conduite-select').forEach(select => {
                        if (select.value) {
                            bulletinData.conduite[select.dataset.critere] = select.value;
                            hasData = true;
                        }
                    });

                    if (!hasData) {
                        showAlert('Veuillez remplir au moins un crit√®re', 'error');
                        return;
                    }

                    bulletinData.commentaire = document.getElementById('commentaireConduite').value || '';
                } else {
                    bulletinData.academique = {};
                    let hasData = false;

                    matieresMaternelle.forEach(matiere => {
                        const travaux = document.querySelector(`input[data-matiere="${matiere}"][data-type="travaux"]`).value;
                        const travauxMax = document.querySelector(`input[data-matiere="${matiere}"][data-type="travaux_max"]`).value;
                        const examen = document.querySelector(`input[data-matiere="${matiere}"][data-type="examen"]`).value;
                        const examenMax = document.querySelector(`input[data-matiere="${matiere}"][data-type="examen_max"]`).value;

                        if (travaux || examen) {
                            bulletinData.academique[matiere] = {
                                travaux: parseFloat(travaux) || 0,
                                travaux_max: parseFloat(travauxMax) || 60,
                                examen: parseFloat(examen) || 0,
                                examen_max: parseFloat(examenMax) || 40,
                                total: (parseFloat(travaux) || 0) + (parseFloat(examen) || 0),
                                total_max: (parseFloat(travauxMax) || 60) + (parseFloat(examenMax) || 40)
                            };
                            hasData = true;
                        }
                    });

                    if (!hasData) {
                        showAlert('Veuillez remplir au moins une mati√®re', 'error');
                        return;
                    }

                    bulletinData.commentaire = document.getElementById('commentaireAcademique').value || '';
                }

                // Enregistrer dans Firebase Realtime Database
                const bulletinRef = await db.ref('bulletins').push(bulletinData);
                console.log('Bulletin enregistr√© dans Firebase avec ID:', bulletinRef.key);
                
                // V√©rifier que le bulletin est bien enregistr√©
                const verifySnapshot = await db.ref('bulletins/' + bulletinRef.key).once('value');
                if (verifySnapshot.exists()) {
                    console.log('‚úÖ Bulletin v√©rifi√© dans Firebase:', verifySnapshot.val());
                }
                showAlert('‚úÖ Bulletin enregistr√© avec succ√®s!', 'success');
                
                setTimeout(() => {
                    resetForm();
                }, 2000);

            } catch (error) {
                console.error('Erreur:', error);
                showAlert('‚ùå Erreur lors de la sauvegarde: ' + error.message, 'error');
            }
        }

        function resetForm() {
            document.getElementById('bulletinFormSection').classList.add('hidden');
            document.querySelectorAll('.student-card').forEach(c => c.classList.remove('selected'));
            selectedStudent = null;
            
            if (currentBulletinType === 'conduite') {
                document.querySelectorAll('.conduite-select').forEach(s => s.value = '');
                document.getElementById('commentaireConduite').value = '';
            } else {
                document.querySelectorAll('.note-input').forEach(i => {
                    if (i.dataset.type !== 'travaux_max' && i.dataset.type !== 'examen_max') {
                        i.value = '';
                    }
                });
                document.getElementById('commentaireAcademique').value = '';
            }
        }

        function previewBulletin() {
            if (!selectedStudent) {
                showAlert('Veuillez s√©lectionner un √©l√®ve', 'error');
                return;
            }

            const trimestre = document.getElementById('trimestreSelect').value;
            let previewHTML = `
                <div style="max-width: 800px; margin: 20px auto; padding: 40px; background: white; border: 2px solid #2563eb; border-radius: 10px;">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h1 style="color: #2563eb; margin-bottom: 10px;">EDEN FAMILY SCHOOL</h1>
                        <p style="font-style: italic;">Learning by doing</p>
                        <h2 style="margin-top: 20px;">${currentBulletinType === 'conduite' ? 'BULLETIN DE CONDUITE' : 'BULLETIN ACAD√âMIQUE'}</h2>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <p><strong>Nom et Pr√©noms:</strong> ${selectedStudent.nom} ${selectedStudent.prenom}</p>
                        <p><strong>Code:</strong> ${selectedStudent.code}</p>
                        <p><strong>Classe:</strong> ${selectedStudent.classe}</p>
                        <p><strong>Trimestre:</strong> ${trimestre}${trimestre === '1' ? 'er' : '√®me'}</p>
                        <p><strong>Ann√©e Scolaire:</strong> 2025-2026</p>
                    </div>
            `;

            if (currentBulletinType === 'conduite') {
                previewHTML += '<h3>√âvaluation de la Conduite</h3><table style="width: 100%; border-collapse: collapse;">';
                document.querySelectorAll('.conduite-select').forEach(select => {
                    if (select.value) {
                        previewHTML += `
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 10px;">${select.dataset.critere}</td>
                                <td style="border: 1px solid #ccc; padding: 10px; text-align: center;">${select.value}</td>
                            </tr>
                        `;
                    }
                });
                previewHTML += '</table>';
                
                const commentaire = document.getElementById('commentaireConduite').value;
                if (commentaire) {
                    previewHTML += `<div style="margin-top: 20px;"><strong>Commentaire:</strong><p>${commentaire}</p></div>`;
                }
            } else {
                previewHTML += '<h3>Notes Acad√©miques</h3><table style="width: 100%; border-collapse: collapse;"><tr><th style="border: 1px solid #ccc; padding: 10px;">Mati√®re</th><th style="border: 1px solid #ccc; padding: 10px;">TJ</th><th style="border: 1px solid #ccc; padding: 10px;">Examen</th><th style="border: 1px solid #ccc; padding: 10px;">Total</th></tr>';
                
                matieresMaternelle.forEach(matiere => {
                    const travaux = document.querySelector(`input[data-matiere="${matiere}"][data-type="travaux"]`).value;
                    const examen = document.querySelector(`input[data-matiere="${matiere}"][data-type="examen"]`).value;
                    
                    if (travaux || examen) {
                        const total = (parseFloat(travaux) || 0) + (parseFloat(examen) || 0);
                        previewHTML += `
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 10px;">${matiere}</td>
                                <td style="border: 1px solid #ccc; padding: 10px; text-align: center;">${travaux || 0}</td>
                                <td style="border: 1px solid #ccc; padding: 10px; text-align: center;">${examen || 0}</td>
                                <td style="border: 1px solid #ccc; padding: 10px; text-align: center;">${total}</td>
                            </tr>
                        `;
                    }
                });
                previewHTML += '</table>';
                
                const commentaire = document.getElementById('commentaireAcademique').value;
                if (commentaire) {
                    previewHTML += `<div style="margin-top: 20px;"><strong>Commentaire:</strong><p>${commentaire}</p></div>`;
                }
            }

            previewHTML += `
                    <div style="margin-top: 40px; text-align: center;">
                        <p><strong>Enseignant(e):</strong> ${teacher.name}</p>
                    </div>
                </div>
            `;

            const previewWindow = window.open('', '_blank');
            previewWindow.document.write(previewHTML);
            previewWindow.document.close();
        }

        function switchTab(tab) {
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

            if (tab === 'create') {
                document.querySelectorAll('.nav-tab')[0].classList.add('active');
                document.getElementById('createTab').classList.add('active');
            } else {
                document.querySelectorAll('.nav-tab')[1].classList.add('active');
                document.getElementById('listTab').classList.add('active');
                loadBulletinsList();
            }
        }

        async function loadBulletinsList() {
            if (!teacher) return;

            const loading = document.getElementById('loadingBulletins');
            const list = document.getElementById('bulletinList');

            loading.classList.remove('hidden');
            list.innerHTML = '';

            try {
                // Charger tous les bulletins depuis Firebase
                const snapshot = await db.ref('bulletins').once('value');
                
                loading.classList.add('hidden');

                if (!snapshot.exists()) {
                    list.innerHTML = '<p style="text-align: center; color: #6b7280; padding: 40px;">Aucun bulletin cr√©√© pour le moment.</p>';
                    console.log('Aucun bulletin trouv√© dans Firebase');
                    return;
                }

                allBulletins = [];
                snapshot.forEach(child => {
                    const bulletin = child.val();
                    // Filtrer uniquement les bulletins de cet enseignant
                    if (bulletin.teacher && bulletin.teacher.id === teacher.id) {
                        allBulletins.push({ id: child.key, ...bulletin });
                    }
                });

                console.log('Bulletins charg√©s depuis Firebase:', allBulletins.length, 'bulletins pour', teacher.name);

                displayBulletins(allBulletins);

            } catch (error) {
                loading.classList.add('hidden');
                console.error('Erreur lors du chargement des bulletins:', error);
                showAlert('Erreur lors du chargement des bulletins: ' + error.message, 'error');
            }
        }

        function displayBulletins(bulletins) {
            const list = document.getElementById('bulletinList');
            list.innerHTML = '';

            if (bulletins.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: #6b7280; padding: 40px;">Aucun bulletin trouv√©.</p>';
                return;
            }

            bulletins.sort((a, b) => new Date(b.dateCreation) - new Date(a.dateCreation));

            bulletins.forEach(bulletin => {
                const date = new Date(bulletin.dateCreation).toLocaleDateString('fr-FR');
                const item = document.createElement('div');
                item.className = 'bulletin-item';
                item.innerHTML = `
                    <div class="bulletin-info">
                        <h4>${bulletin.student.name}</h4>
                        <p>${bulletin.type === 'conduite' ? 'üìù Bulletin de Conduite' : 'üìö Bulletin Acad√©mique'} - 
                           ${bulletin.trimestre}${bulletin.trimestre === 1 ? 'er' : '√®me'} Trimestre - 
                           Cr√©√© le ${date}</p>
                    </div>
                    <div class="bulletin-actions">
                        <button class="btn btn-primary btn-sm" onclick="downloadBulletinPDF('${bulletin.id}')">
                            <i class="fas fa-download"></i> PDF
                        </button>
                        <button class="btn btn-danger btn-sm" onclick="deleteBulletin('${bulletin.id}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function applyFilters() {
            const trimestreFilter = document.getElementById('filterTrimestre').value;
            const typeFilter = document.getElementById('filterType').value;

            let filtered = [...allBulletins];

            if (trimestreFilter) {
                filtered = filtered.filter(b => b.trimestre.toString() === trimestreFilter);
            }

            if (typeFilter) {
                filtered = filtered.filter(b => b.type === typeFilter);
            }

            displayBulletins(filtered);
        }

        async function downloadBulletinPDF(bulletinId) {
            try {
                const bulletin = allBulletins.find(b => b.id === bulletinId);
                if (!bulletin) {
                    showAlert('Bulletin introuvable', 'error');
                    return;
                }

                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                const pageWidth = pdf.internal.pageSize.getWidth();

                pdf.setFontSize(20);
                pdf.setFont('helvetica', 'bold');
                pdf.text('EDEN FAMILY SCHOOL', pageWidth / 2, 20, { align: 'center' });
                
                pdf.setFontSize(10);
                pdf.setFont('helvetica', 'italic');
                pdf.text('Learning by doing', pageWidth / 2, 27, { align: 'center' });

                pdf.setFontSize(14);
                pdf.setFont('helvetica', 'bold');
                pdf.text(bulletin.type === 'conduite' ? 'BULLETIN DE CONDUITE' : 'BULLETIN ACAD√âMIQUE', 
                         pageWidth / 2, 40, { align: 'center' });

                let y = 55;
                pdf.setFontSize(11);
                pdf.setFont('helvetica', 'normal');
                pdf.text(`Nom et Pr√©noms: ${bulletin.student.name}`, 20, y);
                y += 7;
                pdf.text(`Code: ${bulletin.student.code}`, 20, y);
                y += 7;
                pdf.text(`Classe: ${bulletin.student.classe}`, 20, y);
                y += 7;
                pdf.text(`Trimestre: ${bulletin.trimestre}${bulletin.trimestre === 1 ? 'er' : '√®me'}`, 20, y);
                y += 7;
                pdf.text(`Ann√©e Scolaire: ${bulletin.anneeScolaire}`, 20, y);
                y += 7;
                pdf.text(`Enseignant(e): ${bulletin.teacher.name}`, 20, y);
                y += 15;

                if (bulletin.type === 'conduite') {
                    pdf.setFont('helvetica', 'bold');
                    pdf.text('√âvaluation de la Conduite:', 20, y);
                    y += 10;
                    
                    pdf.setFont('helvetica', 'normal');
                    Object.entries(bulletin.conduite || {}).forEach(([critere, note]) => {
                        const lines = pdf.splitTextToSize(critere + ': ' + note, pageWidth - 40);
                        pdf.text(lines, 20, y);
                        y += 7 * lines.length;
                    });
                } else {
                    pdf.setFont('helvetica', 'bold');
                    pdf.text('Notes Acad√©miques:', 20, y);
                    y += 10;
                    
                    pdf.setFont('helvetica', 'normal');
                    Object.entries(bulletin.academique || {}).forEach(([matiere, notes]) => {
                        pdf.text(`${matiere}`, 20, y);
                        pdf.text(`TJ: ${notes.travaux}/${notes.travaux_max}`, 120, y);
                        pdf.text(`Ex: ${notes.examen}/${notes.examen_max}`, 160, y);
                        y += 7;
                    });
                }

                if (bulletin.commentaire) {
                    y += 10;
                    pdf.setFont('helvetica', 'bold');
                    pdf.text('Commentaire de l\'enseignant:', 20, y);
                    y += 7;
                    pdf.setFont('helvetica', 'normal');
                    const lines = pdf.splitTextToSize(bulletin.commentaire, pageWidth - 40);
                    pdf.text(lines, 20, y);
                }

                pdf.save(`Bulletin_${bulletin.student.name}_T${bulletin.trimestre}.pdf`);
                showAlert('‚úÖ PDF t√©l√©charg√© avec succ√®s', 'success');

            } catch (error) {
                console.error('Erreur PDF:', error);
                showAlert('‚ùå Erreur lors de la g√©n√©ration du PDF', 'error');
            }
        }

        function deleteBulletin(bulletinId) {
            bulletinToDelete = bulletinId;
            document.getElementById('deleteModal').classList.remove('hidden');
        }

        function closeDeleteModal() {
            document.getElementById('deleteModal').classList.add('hidden');
            bulletinToDelete = null;
        }

        async function confirmDeleteBulletin() {
            if (!bulletinToDelete) return;

            try {
                await db.ref('bulletins/' + bulletinToDelete).remove();
                showAlert('‚úÖ Bulletin supprim√© avec succ√®s', 'success');
                closeDeleteModal();
                loadBulletinsList();
            } catch (error) {
                console.error('Erreur:', error);
                showAlert('‚ùå Erreur lors de la suppression', 'error');
            }
        }

        function showAlert(message, type = 'info') {
            const container = document.getElementById('alertContainer');
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.innerHTML = `
                <span>${message}</span>
                <button onclick="this.parentElement.remove()" style="background: none; border: none; font-size: 20px; cursor: pointer; color: inherit;">√ó</button>
            `;

            container.appendChild(alert);

            setTimeout(() => alert.remove(), 5000);
        }

        function logout() {
            if (confirm('√ätes-vous s√ªr de vouloir vous d√©connecter ?')) {
                auth.signOut().then(() => {
                    window.location.href = 'parent-portal.html';
                }).catch(error => {
                    console.error('Erreur:', error);
                    showAlert('Erreur lors de la d√©connexion', 'error');
                });
            }
        }
    </script>

    <!-- Footer -->
    <footer style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%); color: white; margin-top: 40px; padding: 40px 20px 20px;">
        <div style="max-width: 1200px; margin: 0 auto;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                <div>
                    <h4 style="color: #f8fafc; font-size: 18px; font-weight: 600; margin-bottom: 15px; border-bottom: 2px solid #3b82f6; padding-bottom: 8px;">√Ä propos d'EDEN FAMILY SCHOOL</h4>
                    <p style="margin-bottom: 8px; line-height: 1.6; color: #cbd5e1;">EDEN FAMILY SCHOOL est une plateforme num√©rique de gestion scolaire con√ßue pour faciliter l'administration des √©tablissements √©ducatifs modernes. L'application permet une communication fluide entre l'administration, les enseignants et les parents, tout en assurant un suivi rigoureux des √©l√®ves.</p>
                    
                    <h5 style="color: #e2e8f0; font-size: 14px; font-weight: 600; margin: 20px 0 10px 0;">üéØ Objectifs</h5>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 6px; padding-left: 20px; position: relative; color: #cbd5e1;">‚úì Simplifier la gestion scolaire</li>
                        <li style="margin-bottom: 6px; padding-left: 20px; position: relative; color: #cbd5e1;">‚úì Am√©liorer la communication √©cole‚Äìfamille</li>
                        <li style="margin-bottom: 6px; padding-left: 20px; position: relative; color: #cbd5e1;">‚úì Centraliser les donn√©es acad√©miques et financi√®res</li>
                        <li style="margin-bottom: 6px; padding-left: 20px; position: relative; color: #cbd5e1;">‚úì Garantir la transparence et la s√©curit√© des informations</li>
                    </ul>
                </div>
                
                <div>
                    <h4 style="color: #f8fafc; font-size: 18px; font-weight: 600; margin-bottom: 15px; border-bottom: 2px solid #3b82f6; padding-bottom: 8px;">Contact</h4>
                    <div style="margin-bottom: 20px;">
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>üìç Nom du projet :</strong> EDEN FAMILY SCHOOL</p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>üè´ Type :</strong> Application de gestion scolaire</p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>üìß Email :</strong> <a href="mailto:edengracefamilyltd@gmail.com" style="color: #3b82f6; text-decoration: none;">edengracefamilyltd@gmail.com</a></p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>üìû T√©l√©phone :</strong> +250791639766 directeur kacyiru</p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>üìû T√©l√©phone :</strong> +250788883842 directeur principale</p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>üìû T√©l√©phone :</strong> +250792570074 comptable</p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>üåç Site web :</strong> <a href="https://www.edenfamily.edu" target="_blank" rel="noopener" style="color: #3b82f6; text-decoration: none;">www.edenfamily.edu</a></p>
                    </div>
                    
                    <h5 style="color: #e2e8f0; font-size: 14px; font-weight: 600; margin: 20px 0 10px 0;">üìÜ Horaires de support</h5>
                    <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>Lundi ‚Äì Vendredi :</strong> 08h00 ‚Äì 17h00</p>
                    <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>Samedi :</strong> 09h00 ‚Äì 13h00</p>
                </div>
                
                <div>
                    <h4 style="color: #f8fafc; font-size: 18px; font-weight: 600; margin-bottom: 15px; border-bottom: 2px solid #3b82f6; padding-bottom: 8px;">Informations g√©n√©rales</h4>
                    <div>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>Nom du projet :</strong> EDEN FAMILY SCHOOL</p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>Version :</strong> 1.0.0</p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>D√©veloppeur :</strong> √âquipe EDEN FAMILY SCHOOL</p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>Ann√©e :</strong> 2025</p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>Pays :</strong> Rwanda</p>
                        <p style="margin-bottom: 8px; color: #cbd5e1;"><strong>Cr√©ateur :</strong> t.serge</p>
                    </div>
                </div>
            </div>
            
            <div style="border-top: 1px solid #475569; margin-top: 30px; padding-top: 20px; text-align: center; color: #94a3b8; font-size: 14px;">
                <p style="margin: 0;">&copy; 2025 EDEN FAMILY SCHOOL - Tous droits r√©serv√©s. D√©velopp√© avec ‚ù§Ô∏è pour l'√©ducation rwandaise.</p>
            </div>
        </div>
    </footer>
</body>
</html>