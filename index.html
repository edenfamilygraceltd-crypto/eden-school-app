<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eden Family School</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="responsive.css">
  <style>
    :root {
      --primary-color: #667eea;
      --secondary-color: #764ba2;
      --accent-color: #ff6b6b;
      --success-color: #4CAF50;
      --warning-color: #FF9800;
      --light-bg: #f8f9fa;
      --dark-text: #333;
      --white: #ffffff;
      --shadow: 0 5px 20px rgba(0,0,0,0.1);
      --transition: all 0.3s ease;
      --branch-kimisagara: #4CAF50;
      --branch-gisozi: #2196F3;
      --branch-kacyiru: #9C27B0;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Poppins', sans-serif;
      line-height: 1.6;
      color: var(--dark-text);
      background: var(--light-bg);
      overflow-x: hidden;
    }

    /* Navigation */
    nav {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      padding: 0;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 20px rgba(0,0,0,0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .nav-container {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--white);
      font-size: 1.5rem;
      font-weight: 700;
      text-decoration: none;
      transition: var(--transition);
    }

    .logo:hover {
      transform: translateY(-2px);
    }

    .logo i {
      font-size: 2rem;
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 1.5rem;
      align-items: center;
    }

    .nav-links a {
      color: var(--white);
      text-decoration: none;
      font-weight: 500;
      transition: var(--transition);
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-size: 0.95rem;
      position: relative;
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 2px;
      background: var(--white);
      transition: var(--transition);
      transform: translateX(-50%);
    }

    .nav-links a:hover::after,
    .nav-links a.active::after {
      width: 80%;
    }

    .nav-links a:hover {
      background: rgba(255,255,255,0.1);
    }

    .mobile-menu {
      display: none;
      color: var(--white);
      font-size: 1.5rem;
      cursor: pointer;
      background: none;
      border: none;
      padding: 0.5rem;
      z-index: 1001;
      position: relative;
      width: 44px;
      height: 44px;
      min-width: 44px;
      min-height: 44px;
    }

    .mobile-menu:active,
    .mobile-menu:focus {
      background: rgba(255,255,255,0.1);
      border-radius: 8px;
    }

    /* Carousel */
    .carousel-container {
      position: relative;
      width: 100%;
      height: 120vh;
      overflow: hidden;
      margin-top: 0;
      padding-top: 80px;
      box-sizing: border-box;
    }

    .carousel-slide {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .carousel-slide.active {
      opacity: 1;
    }

    .carousel-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.85), rgba(118, 75, 162, 0.85));
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: var(--white);
      padding: 1rem;
    }

    .carousel-content {
      max-width: 800px;
      animation: fadeInUp 1s;
    }

    .carousel-content h1 {
      font-size: 3.5rem;
      margin-bottom: 1rem;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .carousel-content p {
      font-size: 1.5rem;
      margin-bottom: 2rem;
      opacity: 0.9;
    }

    .carousel-btn {
      background: var(--white);
      color: var(--primary-color);
      padding: 1rem 2.5rem;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      margin: 0.5rem;
      transition: var(--transition);
      cursor: pointer;
      border: 2px solid transparent;
      font-family: 'Poppins', sans-serif;
      box-shadow: var(--shadow);
    }

    .carousel-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      border-color: var(--primary-color);
    }

    .carousel-controls {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 1rem;
      z-index: 10;
    }

    .carousel-dot {
      width: 15px;
      height: 15px;
      border-radius: 50%;
      background: rgba(255,255,255,0.5);
      cursor: pointer;
      transition: var(--transition);
      border: 2px solid transparent;
    }

    .carousel-dot.active,
    .carousel-dot:hover {
      background: var(--white);
      border-color: var(--primary-color);
    }

    .carousel-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255,255,255,0.3);
      color: var(--white);
      border: none;
      font-size: 2rem;
      padding: 1rem 1.5rem;
      cursor: pointer;
      border-radius: 50%;
      transition: var(--transition);
      z-index: 10;
      backdrop-filter: blur(5px);
    }

    .carousel-arrow:hover {
      background: rgba(255,255,255,0.5);
      transform: translateY(-50%) scale(1.1);
    }

    /* Sections */
    section {
      padding: 5rem 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .section-title {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 3rem;
      color: var(--primary-color);
      position: relative;
      padding-bottom: 1rem;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 4px;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      border-radius: 2px;
    }

    /* Gallery Grid */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .gallery-item {
      position: relative;
      height: 300px;
      border-radius: 15px;
      overflow: hidden;
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: var(--transition);
      background: var(--white);
    }

    .gallery-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
      opacity: 0;
      transition: var(--transition);
      z-index: 1;
    }

    .gallery-item:hover::before {
      opacity: 0.2;
    }

    .gallery-item:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: var(--transition);
    }

    .gallery-item:hover img {
      transform: scale(1.1);
    }

    .gallery-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
      color: var(--white);
      padding: 1.5rem;
      z-index: 2;
    }

    /* Academic Activities */
    .academic-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .academic-card {
      background: var(--white);
      border-radius: 15px;
      padding: 2rem;
      box-shadow: var(--shadow);
      transition: var(--transition);
      cursor: pointer;
      text-align: center;
      border: 2px solid transparent;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .academic-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      border-color: var(--primary-color);
    }

    .academic-card i {
      font-size: 3.5rem;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 1rem;
    }

    .academic-card h3 {
      font-size: 1.3rem;
      margin-bottom: 1rem;
      color: var(--dark-text);
    }

    /* Badge pour les nouveaux devoirs */
    .badge {
      background: var(--accent-color);
      color: var(--white);
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-top: 0.5rem;
    }

    /* Library Section */
    .library-container {
      margin-top: 3rem;
    }

    .library-level-buttons {
      display: flex;
      gap: 2rem;
      justify-content: center;
      margin-bottom: 3rem;
      flex-wrap: wrap;
    }

    .level-btn {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: var(--white);
      padding: 1.5rem 3rem;
      border: none;
      border-radius: 15px;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 250px;
      justify-content: center;
    }

    .level-btn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 10px 35px rgba(102, 126, 234, 0.5);
    }

    /* YouTube Section */
    .youtube-section {
      background: linear-gradient(135deg, #ff0000, #cc0000);
      color: var(--white);
      padding: 4rem 2rem;
      border-radius: 20px;
      margin: 3rem 0;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .youtube-section::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: float 20s linear infinite;
    }

    .youtube-section h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      position: relative;
      z-index: 1;
    }

    .youtube-btn {
      background: var(--white);
      color: #ff0000;
      padding: 1rem 2.5rem;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      transition: var(--transition);
      position: relative;
      z-index: 1;
      border: 2px solid transparent;
    }

    .youtube-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
      border-color: #ff0000;
    }

    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .video-card {
      background: var(--white);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      transition: var(--transition);
      border: 2px solid transparent;
    }

    .video-card:hover {
      transform: translateY(-10px);
      border-color: var(--primary-color);
    }

    .video-thumbnail {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      background: #000;
    }

    .video-thumbnail iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }

    .video-info {
      padding: 1.5rem;
    }

    /* Games Section */
    .games-section {
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      padding: 5rem 2rem;
      position: relative;
    }

    .games-header {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: var(--white);
      padding: 4rem 2rem;
      text-align: center;
      margin-bottom: 3rem;
      border-radius: 20px;
      position: relative;
      overflow: hidden;
    }

    .games-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
      opacity: 0.1;
    }

    .games-header h1 {
      font-size: 3.5rem;
      margin-bottom: 1rem;
      text-shadow: 3px 3px 0 rgba(255, 209, 102, 0.3);
      position: relative;
    }

    .level-selection {
      background: var(--white);
      border-radius: 20px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      border: 2px solid transparent;
      transition: var(--transition);
    }

    .level-selection:hover {
      border-color: var(--primary-color);
    }

    .level-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }

    .level-option {
      background: var(--light-bg);
      border: 2px solid #e0e0e0;
      border-radius: 15px;
      padding: 0.8rem 0.6rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .level-option:hover {
      border-color: var(--primary-color);
      transform: translateY(-5px);
    }

    .level-option.selected {
      border-color: var(--primary-color);
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
    }

    .level-option i {
      font-size: 1.4rem;
      margin-bottom: 0.7rem;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .level-option h5 {
      font-size: 1.05rem;
      margin-bottom: 0.3rem;
      font-weight: 600;
    }

    .level-option small {
      font-size: 0.85rem;
      color: #666;
    }

    .game-categories-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 4rem;
    }

    .category-card {
      background: var(--white);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 15px 35px rgba(0,0,0,0.1);
      transition: var(--transition);
      cursor: pointer;
      text-align: center;
      border: 5px solid transparent;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .category-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      opacity: 0;
      transition: var(--transition);
    }

    .category-card:hover::before {
      opacity: 1;
    }

    .category-card:hover {
      transform: translateY(-15px) scale(1.05);
      box-shadow: 0 25px 50px rgba(0,0,0,0.2);
    }

    .category-icon {
      font-size: 4rem;
      margin-bottom: 1.5rem;
      display: inline-block;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .category-card h3 {
      color: var(--dark-text);
      font-size: 1.8rem;
      margin-bottom: 1rem;
    }

    .play-category-btn {
      background: linear-gradient(135deg, var(--accent-color), #ff8e53);
      color: var(--white);
      border: none;
      padding: 1rem 2rem;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      width: 100%;
      justify-content: center;
      margin-top: auto;
      border: 2px solid transparent;
    }

    .play-category-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(255, 107, 107, 0.3);
      border-color: var(--white);
    }

    .btn-primary {
      padding: 1rem 2rem;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: var(--white);
      border: none;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      border: 2px solid transparent;
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
      border-color: var(--white);
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 10000;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: var(--white);
      border-radius: 15px;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.3);
      animation: modalFadeIn 0.3s ease-out;
      overflow: hidden;
    }

    .modal-header {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: var(--white);
      padding: 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-header h2 {
      margin: 0;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .modal-close {
      background: none;
      border: none;
      color: var(--white);
      font-size: 1.5rem;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .modal-close:hover {
      transform: rotate(90deg);
    }

    .modal-body {
      padding: 2rem;
      max-height: 60vh;
      overflow-y: auto;
    }

    @keyframes modalFadeIn {
      from { opacity: 0; transform: translateY(-50px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Game Modal Styles */
    .game-modal {
      max-width: 800px;
    }

    .game-area {
      background: var(--light-bg);
      border-radius: 10px;
      padding: 2rem;
      margin: 1rem 0;
      min-height: 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .game-question {
      font-size: 2rem;
      margin-bottom: 2rem;
      text-align: center;
    }

    .game-options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      width: 100%;
    }

    .game-option {
      background: var(--white);
      border: 2px solid var(--primary-color);
      border-radius: 10px;
      padding: 1rem;
      font-size: 1.2rem;
      cursor: pointer;
      transition: var(--transition);
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .game-option img {
      width: 80px;
      height: 80px;
      object-fit: contain;
    }

    .game-option:hover {
      background: var(--primary-color);
      color: var(--white);
      transform: translateY(-3px);
    }

    .game-option.correct {
      background: var(--success-color);
      color: var(--white);
      border-color: var(--success-color);
    }

    .game-option.incorrect {
      background: var(--accent-color);
      color: var(--white);
      border-color: var(--accent-color);
    }

    .game-score {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 1rem;
      padding: 1rem;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: var(--white);
      border-radius: 10px;
    }

    .game-controls {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
      justify-content: center;
    }

    /* Audio Controls */
    .audio-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      margin: 1rem 0;
    }

    .audio-btn {
      background: var(--primary-color);
      color: var(--white);
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .audio-btn:hover {
      background: var(--secondary-color);
      transform: scale(1.1);
    }

    /* Homework Modal */
    .homework-list {
      list-style: none;
      margin: 1rem 0;
    }

    .homework-item {
      background: var(--light-bg);
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-left: 4px solid var(--primary-color);
    }

    .homework-date {
      font-size: 0.9rem;
      color: #666;
    }

    .homework-subject {
      font-weight: 600;
      color: var(--primary-color);
    }

    .homework-download {
      background: var(--primary-color);
      color: var(--white);
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .homework-download:hover {
      background: var(--secondary-color);
    }

    /* Library Modal */
    .book-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 1rem;
      margin: 1rem 0;
    }

    .book-item {
      background: var(--light-bg);
      border-radius: 10px;
      padding: 1rem;
      text-align: center;
      transition: var(--transition);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .book-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .book-icon {
      font-size: 2rem;
      color: var(--primary-color);
      margin-bottom: 0.5rem;
    }

    .book-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .book-author {
      font-size: 0.8rem;
      color: #666;
    }

    /* Back to top button */
    .back-to-top {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: var(--white);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      transition: var(--transition);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
      box-shadow: var(--shadow);
    }

    .back-to-top:hover {
      transform: translateY(-5px);
    }

    /* Toast Notification */
    .toast {
      position: fixed;
      top: 100px;
      right: 20px;
      background: var(--success-color);
      color: var(--white);
      padding: 1rem 1.5rem;
      border-radius: 8px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      gap: 10px;
      z-index: 10000;
      animation: slideInRight 0.3s ease;
      max-width: 350px;
    }

    .toast.error {
      background: var(--accent-color);
    }

    .toast.warning {
      background: var(--warning-color);
    }

    /* Login Modal */
    .login-form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .form-group label {
      font-weight: 600;
      color: var(--dark-text);
    }

    .form-group input,
    .form-group select {
      padding: 0.75rem;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-family: 'Poppins', sans-serif;
      font-size: 1rem;
      transition: var(--transition);
    }

    .form-group input:focus,
    .form-group select:focus {
      border-color: var(--primary-color);
      outline: none;
    }

    /* Progress Bar */
    .progress-bar {
      width: 100%;
      height: 10px;
      background: #e0e0e0;
      border-radius: 5px;
      overflow: hidden;
      margin: 1rem 0;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      transition: width 0.3s ease;
    }

    /* Footer */
    footer {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: var(--white);
      padding: 3rem 2rem;
      margin-top: 4rem;
      position: relative;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(135deg, var(--accent-color), #ff8e53);
    }

    .footer-content {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }

    .footer-section h3 {
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .footer-section a {
      color: var(--white);
      text-decoration: none;
      transition: var(--transition);
      display: inline-block;
    }

    .footer-section a:hover {
      transform: translateX(5px);
      color: var(--accent-color);
    }

    .footer-bottom {
      text-align: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255,255,255,0.1);
    }

    /* Contact Cards */
    .contact-card {
      background: var(--white);
      border-radius: 15px;
      padding: 2rem;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      text-align: center;
      transition: var(--transition);
    }

    .contact-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
    }

    .contact-card i {
      font-size: 3rem;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 1rem;
    }

    /* Enhanced Contact Cards */
    .contact-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 3rem;
    }

    .contact-card {
      cursor: pointer;
      opacity: 0;
      transform: translateY(30px);
    }

    .contact-card.animate {
      animation: fadeInUp 0.6s ease forwards;
    }

    .contact-card:nth-child(1).animate { animation-delay: 0.1s; }
    .contact-card:nth-child(2).animate { animation-delay: 0.2s; }
    .contact-card:nth-child(3).animate { animation-delay: 0.3s; }

    /* Modal Styles */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      animation: fadeIn 0.3s ease;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: var(--white);
      border-radius: 20px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.3);
      animation: slideUp 0.4s ease;
      max-width: 90%;
      max-height: 90vh;
      overflow: hidden;
    }

    .modal-header {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: var(--white);
      padding: 1.5rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-close {
      background: none;
      border: none;
      color: var(--white);
      font-size: 1.5rem;
      cursor: pointer;
      transition: var(--transition);
    }

    .modal-close:hover {
      transform: rotate(90deg);
    }

    .modal-body {
      padding: 2rem;
      max-height: 70vh;
      overflow-y: auto;
    }

    .contact-options-modal {
      max-width: 600px;
    }

    .contact-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
    }

    .contact-option {
      background: var(--light-bg);
      border: 2px solid var(--primary-color);
      border-radius: 10px;
      padding: 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .contact-option:hover {
      background: var(--primary-color);
      color: var(--white);
    }

    /* Form Styles */
    #contactForm input,
    #contactForm select,
    #contactForm textarea {
      padding: 1rem;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-family: 'Poppins', sans-serif;
      transition: var(--transition);
      width: 100%;
      margin-bottom: 1rem;
    }

    #contactForm input:focus,
    #contactForm select:focus,
    #contactForm textarea:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      outline: none;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    /* Toast Notifications */
    .toast {
      position: fixed;
      top: 100px;
      right: 20px;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      color: white;
      font-weight: 500;
      z-index: 10001;
      animation: slideInRight 0.3s ease, slideOutRight 0.3s ease 2.7s;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .toast-success { background: var(--success-color); }
    .toast-error { background: var(--accent-color); }
    .toast-warning { background: var(--warning-color); }
    .toast-info { background: var(--primary-color); }

    @keyframes slideInRight {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes slideOutRight {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }

    .youtube-link {
      color: #ff0000;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      transition: var(--transition);
    }

    .youtube-link:hover {
      color: #cc0000;
      transform: translateY(-2px);
    }

    /* Gallery Modal */
    .gallery-modal-content {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .gallery-modal-image {
      width: 100%;
      max-height: 400px;
      object-fit: contain;
      border-radius: 10px;
    }

    .gallery-modal-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 1rem;
    }

    .gallery-modal-thumbnails {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding: 10px 0;
    }

    .gallery-thumbnail {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 5px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: var(--transition);
    }

    .gallery-thumbnail.active {
      border-color: var(--primary-color);
    }

    .gallery-thumbnail:hover {
      transform: scale(1.05);
    }

    /* Voir plus button */
    .voir-plus-container {
      text-align: center;
      margin-top: 3rem;
    }

    .voir-plus-btn {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: var(--white);
      border: none;
      padding: 1rem 2.5rem;
      border-radius: 50px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      border: 2px solid transparent;
    }

    .voir-plus-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
      border-color: var(--white);
    }

    /* Loading Spinner */
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes float {
      0% {
        transform: translate(0, 0) rotate(0deg);
      }
      100% {
        transform: translate(50px, 50px) rotate(360deg);
      }
    }

    @keyframes slideInRight {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes slideOutRight {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
      .carousel-content h1 {
        font-size: 2.8rem;
      }
      
      .games-header h1 {
        font-size: 3rem;
      }
    }

    @media (max-width: 992px) {
      .carousel-content h1 {
        font-size: 2.5rem;
      }
      
      .carousel-content p {
        font-size: 1.2rem;
      }
      
      .section-title {
        font-size: 2.2rem;
      }
      
      .game-options {
        grid-template-columns: 1fr;
      }

      body {
        font-size: 15px;
      }

      section {
        padding: 4rem 2rem;
      }
    }

    @media (max-width: 768px) {
      .nav-links {
        position: fixed;
        left: -100%;
        top: 80px;
        flex-direction: column;
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
        width: 100%;
        padding: 2rem;
        transition: 0.3s;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }

      .nav-links.active {
        left: 0;
      }

      .mobile-menu {
        display: block;
      }

      .carousel-content h1 {
        font-size: 2rem;
      }

      .carousel-content p {
        font-size: 1rem;
      }
      
      .carousel-container {
        height: 70vh;
        margin-top: 0;
        padding-top: 80px;
        box-sizing: border-box;
      }

      .contact-cards {
        grid-template-columns: 1fr;
      }

      .contact-options {
        grid-template-columns: 1fr;
      }

      .modal-content {
        width: 95%;
        margin: 1rem;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      #contactForm input,
      #contactForm select,
      #contactForm textarea {
        margin-bottom: 1rem;
      }

      .games-header h1 {
        font-size: 2.5rem;
      }

      .video-grid {
        grid-template-columns: 1fr;
      }
      
      .carousel-arrow {
        padding: 0.5rem 1rem;
        font-size: 1.5rem;
      }
      
      .level-options {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 1rem;
      }
      
      .level-option {
        padding: 0.75rem 0.5rem;
      }
      
      .level-btn {
        min-width: 200px;
        padding: 1rem 2rem;
      }
      
      .library-level-buttons {
        gap: 1rem;
      }
      
      .modal-content {
        width: 95%;
      }

      body {
        font-size: 14px;
      }

      section {
        padding: 3rem 1.5rem;
      }

      input, select, textarea {
        font-size: 16px;
      }
    }

    /* Petits téléphones (320px - 480px) */
    @media (max-width: 480px) {
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-size: 13px;
        overflow-x: hidden;
      }

      section {
        padding: 2rem 0.75rem;
      }
      
      .carousel-content h1 {
        font-size: 1.5rem;
      }

      .carousel-content p {
        font-size: 0.9rem;
      }
      
      .carousel-container {
        height: 65vh;
        margin-top: 0;
        padding-top: 60px;
        box-sizing: border-box;
      }
      
      .section-title {
        font-size: 1.5rem;
      }
      
      .level-options {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 0.75rem;
      }
      
      .level-option {
        padding: 0.6rem 0.4rem;
      }
      
      .level-option i {
        font-size: 1.1rem;
      }
      
      .level-option h5 {
        font-size: 0.9rem;
      }
      
      .level-option small {
        font-size: 0.75rem;
      }
      
      .games-header {
        padding: 1.5rem 0.75rem;
      }
      
      .games-header h1 {
        font-size: 1.5rem;
      }

      .games-header p {
        font-size: 0.85rem;
      }
      
      .category-card {
        padding: 1rem;
        border-radius: 10px;
      }

      .category-card h3 {
        font-size: 1rem;
      }

      .category-card p {
        font-size: 0.85rem;
      }
      
      .game-categories-grid {
        grid-template-columns: 1fr;
        gap: 0.75rem;
      }

      .game-options {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .modal-content {
        width: 95%;
        max-width: 100%;
        border-radius: 12px;
        padding: 1rem;
      }

      .modal-header {
        padding: 1rem 0.75rem;
      }

      .modal-header h2 {
        font-size: 1.2rem;
      }

      .modal-body {
        padding: 1rem 0.75rem;
      }

      .modal-footer {
        padding: 1rem 0.75rem;
        gap: 0.5rem;
      }

      button {
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
        border-radius: 8px;
        width: 100%;
      }

      input, select, textarea {
        font-size: 16px;
        padding: 0.75rem;
        border-radius: 8px;
        width: 100%;
      }

      .carousel-arrow {
        padding: 0.4rem 0.6rem;
        font-size: 1.2rem;
      }
      
      .level-btn {
        min-width: 150px;
        padding: 0.75rem 1.5rem;
        font-size: 0.9rem;
      }
      
      .library-level-buttons {
        gap: 0.5rem;
        flex-wrap: wrap;
      }

      .video-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .video-card {
        border-radius: 10px;
        padding: 0.75rem;
      }

      .video-card h3 {
        font-size: 0.95rem;
      }

      .video-card p {
        font-size: 0.8rem;
      }

      nav {
        padding: 0.5rem 0;
      }

      .nav-container {
        padding: 0.5rem 0.75rem;
        flex-wrap: wrap;
        gap: 0.5rem;
      }

      .logo {
        font-size: 1rem;
      }

      .mobile-menu {
        font-size: 1.5rem;
        padding: 0.5rem;
      }

      .carousel-content {
        padding: 2rem 1rem;
      }

      h1 {
        font-size: clamp(1.3rem, 4vw, 2rem);
      }

      h2 {
        font-size: clamp(1.1rem, 3.5vw, 1.8rem);
      }

      h3 {
        font-size: clamp(0.95rem, 3vw, 1.5rem);
      }

      p {
        font-size: clamp(0.85rem, 2vw, 1rem);
      }

      .icon {
        font-size: clamp(1.5rem, 4vw, 3rem);
      }
    }

    /* Tablettes moyennes (481px - 768px) */
    @media (min-width: 481px) and (max-width: 768px) {
      body {
        font-size: 14px;
      }

      section {
        padding: 3rem 1.5rem;
      }

      .carousel-content h1 {
        font-size: 1.9rem;
      }

      .section-title {
        font-size: 1.9rem;
      }

      .games-header h1 {
        font-size: 2.2rem;
      }

      .modal-content {
        width: 90%;
      }

      input, select, textarea {
        font-size: 15px;
      }
    }

    /* ===== CSS SECTION BRANCHES ===== */
    :root {
      --branch-kimisagara: #4CAF50;
      --branch-gisozi: #2196F3;
      --branch-kacyiru: #9C27B0;
    }

    /* Section Branches */
    #branches {
      padding: 5rem 2rem;
      max-width: 1400px;
      margin: 0 auto;
      position: relative;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
    }

    .branches-intro {
      text-align: center;
      max-width: 800px;
      margin: 0 auto 3rem;
      animation: fadeInUp 1s ease-out;
    }

    .branches-intro h2 {
      font-size: 2.8rem;
      color: var(--primary-color);
      margin-bottom: 1rem;
      position: relative;
      display: inline-block;
    }

    .branches-intro h2::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 4px;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      border-radius: 2px;
    }

    .branches-intro p {
      font-size: 1.1rem;
      color: #666;
      margin-top: 1.5rem;
      line-height: 1.8;
    }

    .branches-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2.5rem;
      margin: 4rem 0;
    }

    .branch-card {
      background: var(--white);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: var(--shadow);
      transition: var(--transition);
      position: relative;
      animation: slideUp 0.8s ease-out forwards;
      opacity: 0;
      transform: translateY(30px);
      border: 2px solid transparent;
    }

    .branch-card:nth-child(1) { animation-delay: 0.2s; }
    .branch-card:nth-child(2) { animation-delay: 0.4s; }
    .branch-card:nth-child(3) { animation-delay: 0.6s; }

    .branch-card.kimisagara {
      border-top: 5px solid var(--branch-kimisagara);
    }

    .branch-card.gisozi {
      border-top: 5px solid var(--branch-gisozi);
    }

    .branch-card.kacyiru {
      border-top: 5px solid var(--branch-kacyiru);
    }

    .branch-card:hover {
      transform: translateY(-15px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
      border-color: rgba(0,0,0,0.1);
    }

    .branch-image {
      position: relative;
      height: 250px;
      overflow: hidden;
    }

    .branch-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: var(--transition);
    }

    .branch-card:hover .branch-image img {
      transform: scale(1.1);
    }

    .branch-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(0,0,0,0.7), rgba(0,0,0,0.3));
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: var(--transition);
    }

    .branch-card:hover .branch-overlay {
      opacity: 1;
    }

    .branch-icon {
      width: 60px;
      height: 60px;
      background: rgba(255,255,255,0.9);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      animation: pulse 2s infinite;
    }

    .branch-content {
      padding: 2rem;
    }

    .branch-header {
      display: flex;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .branch-badge {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 1rem;
      color: var(--white);
      font-size: 1.3rem;
      font-weight: 600;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .branch-badge.kimisagara {
      background: linear-gradient(135deg, var(--branch-kimisagara), #2E7D32);
    }

    .branch-badge.gisozi {
      background: linear-gradient(135deg, var(--branch-gisozi), #0D47A1);
    }

    .branch-badge.kacyiru {
      background: linear-gradient(135deg, var(--branch-kacyiru), #6A1B9A);
    }

    .branch-title {
      font-size: 1.8rem;
      color: var(--dark-text);
      margin-bottom: 0.5rem;
    }

    .branch-subtitle {
      color: #666;
      font-size: 0.9rem;
      font-style: italic;
    }

    .branch-info {
      margin: 1.5rem 0;
    }

    .branch-info-item {
      display: flex;
      align-items: center;
      margin-bottom: 0.8rem;
      color: #555;
      transition: var(--transition);
    }

    .branch-info-item:hover {
      transform: translateX(5px);
      color: var(--primary-color);
    }

    .branch-info-item i {
      width: 20px;
      margin-right: 10px;
      transition: var(--transition);
    }

    .branch-info-item:hover i {
      color: var(--primary-color);
      transform: scale(1.2);
    }

    .branch-actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .branch-btn {
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 50px;
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-size: 0.95rem;
      position: relative;
      overflow: hidden;
    }

    .branch-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .branch-btn:hover::before {
      width: 300px;
      height: 300px;
    }

    .branch-btn.gallery {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: var(--white);
      border: 2px solid transparent;
    }

    .branch-btn.directions {
      background: transparent;
      border: 2px solid var(--primary-color);
      color: var(--primary-color);
    }

    .branch-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    .branch-btn.gallery:hover {
      background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
      border-color: var(--secondary-color);
    }

    .branch-btn.directions:hover {
      background: var(--primary-color);
      color: var(--white);
    }

    /* Features Section */
    .branches-features {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
      border-radius: 20px;
      padding: 3rem;
      margin-top: 4rem;
      position: relative;
      overflow: hidden;
      border: 2px solid rgba(102, 126, 234, 0.2);
    }

    .branches-features::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(102, 126, 234, 0.1) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: float 20s linear infinite;
      opacity: 0.5;
    }

    .features-title {
      text-align: center;
      font-size: 2.2rem;
      color: var(--primary-color);
      margin-bottom: 3rem;
      position: relative;
      z-index: 1;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      position: relative;
      z-index: 1;
    }

    .feature-item {
      background: var(--white);
      padding: 2rem;
      border-radius: 15px;
      text-align: center;
      box-shadow: var(--shadow);
      transition: var(--transition);
      animation: fadeInUp 0.8s ease-out forwards;
      opacity: 0;
      border: 2px solid transparent;
    }

    .feature-item:nth-child(1) { animation-delay: 0.1s; }
    .feature-item:nth-child(2) { animation-delay: 0.2s; }
    .feature-item:nth-child(3) { animation-delay: 0.3s; }
    .feature-item:nth-child(4) { animation-delay: 0.4s; }

    .feature-item:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.15);
      border-color: var(--primary-color);
    }

    .feature-icon {
      width: 70px;
      height: 70px;
      margin: 0 auto 1.5rem;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--white);
      font-size: 1.8rem;
      transition: var(--transition);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }

    .feature-item:hover .feature-icon {
      transform: rotateY(180deg) scale(1.1);
    }

    .feature-item h4 {
      font-size: 1.3rem;
      margin-bottom: 1rem;
      color: var(--dark-text);
      font-weight: 600;
    }

    .feature-item p {
      color: #666;
      font-size: 0.95rem;
      line-height: 1.6;
    }

    /* Map Section */
    .branches-map {
      margin-top: 4rem;
      background: var(--white);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: var(--shadow);
      animation: fadeIn 1s ease-out;
      border: 2px solid rgba(0,0,0,0.1);
    }

    .map-container {
      position: relative;
      height: 400px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--white);
    }

    .map-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      text-align: center;
      padding: 2rem;
      z-index: 2;
    }

    .map-title {
      font-size: 2rem;
      margin-bottom: 1rem;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .map-description {
      font-size: 1.1rem;
      max-width: 600px;
      margin-bottom: 1rem;
    }

    .map-marker {
      position: absolute;
      width: 25px;
      height: 25px;
      background: var(--accent-color);
      border-radius: 50%;
      cursor: pointer;
      transition: var(--transition);
      animation: bounce 2s infinite;
      z-index: 3;
      border: 3px solid white;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    .map-marker:hover {
      transform: scale(1.5);
      background: var(--warning-color);
      animation: none;
    }

    .map-marker.kimisagara { top: 30%; left: 45%; background: var(--branch-kimisagara); }
    .map-marker.gisozi { top: 35%; left: 50%; background: var(--branch-gisozi); }
    .map-marker.kacyiru { top: 40%; left: 55%; background: var(--branch-kacyiru); }

    .map-marker::after {
      content: attr(data-branch);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: var(--white);
      color: var(--dark-text);
      padding: 0.5rem 1rem;
      border-radius: 5px;
      font-size: 0.9rem;
      white-space: nowrap;
      opacity: 0;
      transition: var(--transition);
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      font-weight: 600;
      z-index: 4;
    }

    .map-marker:hover::after {
      opacity: 1;
      bottom: 120%;
    }

    /* Animations spécifiques */
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
      }
      70% {
        transform: scale(1.05);
        box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);
      }
      100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
      }
    }

    @keyframes bounce {
      0%, 100% {
        transform: translateY(0) scale(1);
      }
      50% {
        transform: translateY(-10px) scale(1.1);
      }
    }

    @keyframes float {
      0% {
        transform: translate(0, 0) rotate(0deg);
      }
      100% {
        transform: translate(50px, 50px) rotate(360deg);
      }
    }

    @keyframes ripple {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      100% {
        transform: scale(4);
        opacity: 0;
      }
    }

    @keyframes popIn {
      0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
      }
      70% {
        transform: translate(-50%, -50%) scale(1.1);
      }
      100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
    }

    @keyframes shimmer {
      0% {
        transform: translateX(-100%) rotate(45deg);
      }
      100% {
        transform: translateX(100%) rotate(45deg);
      }
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .branches-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .branches-grid {
        grid-template-columns: 1fr;
      }
      
      .branch-actions {
        grid-template-columns: 1fr;
      }
      
      .features-grid {
        grid-template-columns: 1fr;
      }
      
      .branches-features {
        padding: 2rem 1rem;
      }
      
      .branches-intro h2 {
        font-size: 2.2rem;
      }
      
      .map-container {
        height: 300px;
      }
    }

    @media (max-width: 480px) {
      #branches {
        padding: 3rem 1rem;
      }
      
      .branch-card {
        margin: 0 0.5rem;
      }
      
      .branch-content {
        padding: 1.5rem;
      }
      
      .branch-title {
        font-size: 1.5rem;
      }
      
      .features-title {
        font-size: 1.8rem;
      }
      
      .map-title {
        font-size: 1.5rem;
      }
      
      .map-description {
        font-size: 0.9rem;
      }
    }

    /* Animation pour les boutons */
    @keyframes buttonRipple {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }
  </style>
  <script src="firebase-config.js"></script>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

  <script>
    // Initialiser Firebase
    if (typeof window.FIREBASE_CONFIG !== 'undefined') {
      try {
        firebase.initializeApp(window.FIREBASE_CONFIG);
        console.log("Firebase initialisé avec succès");
      } catch (error) {
        console.log("Erreur Firebase:", error);
      }
    }
  </script>
</head>
<body>
  <!-- Back to top button -->
  <button class="back-to-top" onclick="scrollToTop()">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Modal Structure -->
  <div id="modal" class="modal">
    <div class="modal-content" id="modalContent">
      <div class="modal-header">
        <h2 id="modalTitle"><i class="fas fa-info-circle"></i> Information</h2>
        <button class="modal-close" onclick="closeModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- Contenu dynamique -->
      </div>
    </div>
  </div>

  <!-- Login Modal -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2><i class="fas fa-user"></i> Connexion Parent</h2>
        <button class="modal-close" onclick="closeLoginModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <form class="login-form" onsubmit="handleLogin(event)">
          <div class="form-group">
            <label for="parentEmail">Email</label>
            <input type="email" id="parentEmail" required placeholder="votre@email.com">
          </div>
          <div class="form-group">
            <label for="parentPassword">Mot de passe</label>
            <input type="password" id="parentPassword" required placeholder="Votre mot de passe">
          </div>
          <div class="form-group">
            <label for="studentName">Nom de l'élève</label>
            <input type="text" id="studentName" required placeholder="Nom complet de l'élève">
          </div>
          <div class="form-group">
            <label for="classLevel">Niveau de classe</label>
            <select id="classLevel" required>
              <option value="">Sélectionnez le niveau</option>
              <option value="maternelle">Maternelle</option>
              <option value="primaire1">Primaire 1</option>
              <option value="primaire2">Primaire 2</option>
              <option value="primaire3">Primaire 3</option>
              <option value="primaire4">Primaire 4</option>
              <option value="primaire5">Primaire 5</option>
              <option value="primaire6">Primaire 6</option>
            </select>
          </div>
          <button type="submit" class="btn-primary" style="width: 100%;">
            <i class="fas fa-sign-in-alt"></i> Se connecter
          </button>
        </form>
        <p style="text-align: center; margin-top: 1rem; color: #666;">
          <small>Contactez l'administration pour obtenir vos identifiants</small>
        </p>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav>
    <div class="nav-container">
      <a href="#accueil" class="logo">
        <img src="asset/img/logo_eden.png" alt="Logo Eden Family School" style="height: 40px; margin-right: 10px;">
        <span>EDEN FAMILY SCHOOL</span>
      </a>
      <ul class="nav-links" id="navLinks">
        <li><a href="#accueil" class="active"><i class="fas fa-home"></i> Accueil</a></li>
        <li><a href="#galerie"><i class="fas fa-images"></i> Galerie</a></li>
        <li><a href="#academique"><i class="fas fa-graduation-cap"></i> Activités</a></li>
        <li><a href="#bibliotheque"><i class="fas fa-book"></i> Bibliothèque</a></li>
        <li><a href="#youtube"><i class="fab fa-youtube"></i> YouTube</a></li>
        <li><a href="#jeux"><i class="fas fa-gamepad"></i> Jeux</a></li>
        <li><a href="#contact"><i class="fas fa-envelope"></i> Contact</a></li>
        <li id="staffAccessLi">
          <a href="Auth.html" class="btn-secondary" style="padding: 0.5rem 1.5rem; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3);">
            <i class="fas fa-user-tie"></i> Staff Access
          </a>
        </li>
        <li id="parentLoginLi">
          <button class="btn-primary" onclick="openLoginModal()" style="padding: 0.5rem 1.5rem;">
            <i class="fas fa-user"></i> Parent Login
          </button>
        </li>
        <li id="logoutLi" style="display: none;">
          <button class="btn-secondary" onclick="logoutFromIndex()" style="padding: 0.5rem 1.5rem; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3);">
            <i class="fas fa-sign-out-alt"></i> <span id="userNameDisplay"></span> - Déconnexion
          </button>
        </li>
      </ul>
      <button class="mobile-menu" onclick="toggleMenu()" aria-label="Menu mobile">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </nav>

  <script src="security-auth.js"></script>

  <!-- Section Accueil -->
  <section id="accueil" class="carousel-container">
    <div class="carousel-slide active" style="background-image: url('asset/img/love_eden.jpg');">
      <div class="carousel-overlay">
        <div class="carousel-content">
          <h1><i class="fas fa-book-reader"></i> Bienvenue a Eden family school </h1>
          <p>Learning by doing - Excellence et Innovation</p>
          <div>
            <button class="carousel-btn" onclick="scrollToSection('galerie')"><i class="fas fa-images"></i> Voir la Galerie</button>
            <button class="carousel-btn" onclick="openLoginModal()"><i class="fas fa-user"></i> Espace Parent</button>
          </div>
        </div>
      </div>
    </div>
    <div class="carousel-slide" style="background-image: url('asset/img/gisozi_graduation.JPG');">
      <div class="carousel-overlay">
        <div class="carousel-content">
          <h1><i class="fas fa-graduation-cap"></i> Excellence Académique</h1>
          <p>Une éducation de qualité pour vos enfants</p>
          <button class="carousel-btn" onclick="scrollToSection('academique')"><i class="fas fa-graduation-cap"></i> Activités Académiques</button>
        </div>
      </div>
    </div>
    <div class="carousel-slide" style="background-image: url('asset/img/sport.jpg');">
      <div class="carousel-overlay">
        <div class="carousel-content">
          <h1><i class="fas fa-users"></i> Notre Communauté</h1>
          <p>Ensemble pour l'avenir de vos enfants</p>
          <button class="carousel-btn" onclick="scrollToSection('jeux')"><i class="fas fa-gamepad"></i> Jeux Éducatifs</button>
        </div>
      </div>
    </div>
    

    
    <div class="carousel-controls">
      <span class="carousel-dot active" onclick="goToSlide(0)" aria-label="Aller au slide 1"></span>
      <span class="carousel-dot" onclick="goToSlide(1)" aria-label="Aller au slide 2"></span>
      <span class="carousel-dot" onclick="goToSlide(2)" aria-label="Aller au slide 3"></span>
    </div>
  </section>
  
  <!-- Section Nos Branches -->
  <section id="branches">
    <div class="branches-intro">
      <h2><i class="fas fa-map-marker-alt"></i> Nos Branches</h2>
      <p>Découvrez les trois campus d'Eden Family School à travers Kigali. Chaque branche offre un environnement d'apprentissage spécialement conçu pour répondre aux besoins des jeunes enfants.</p>
    </div>

    <div class="branches-grid">
      <!-- Branche Kimisagara -->
      <div class="branch-card kimisagara">
        <div class="branch-image">
          <img src="asset/img/kimisagara.jpg" alt="Eden Family School Kimisagara">
          <div class="branch-overlay">
            <div class="branch-icon">
              <i class="fas fa-child"></i>
            </div>
          </div>
        </div>
        <div class="branch-content">
          <div class="branch-header">
            <div class="branch-badge kimisagara">K</div>
            <div>
              <h3 class="branch-title">Kimisagara</h3>
              <p class="branch-subtitle">École maternelle</p>
            </div>
          </div>
          
          <div class="branch-levels">
            <div class="level-badge maternelle">
              <i class="fas fa-child"></i> Maternelle
            </div>
          </div>
          
          <div class="branch-info">
            <div class="branch-info-item">
              <i class="fas fa-map-marker-alt"></i>
              <span>KG 7 Ave, Kimisagara, Kigali</span>
            </div>
            <div class="branch-info-item">
              <i class="fas fa-phone"></i>
              <span>Comptable: 0785892018 | Responsable: 0791826950</span>
            </div>
            <div class="branch-info-item">
              <i class="fas fa-envelope"></i>
              <span>kimisagara@edenfamily.edu.rw</span>
            </div>
            <div class="branch-info-item">
              <i class="fas fa-clock"></i>
              <span>Lun-Ven: 7h30 - 17h30</span>
            </div>
          </div>

          <div class="branch-actions">
            <button class="branch-btn gallery" onclick="openBranchGallery('kimisagara')">
              <i class="fas fa-images"></i> Galerie
            </button>
            <button class="branch-btn directions" onclick="showKimisagaraDirections()">
              <i class="fas fa-directions"></i> Itinéraire
            </button>
          </div>
        </div>
      </div>

      <!-- Branche Gisozi -->
      <div class="branch-card gisozi">
        <div class="branch-image">
          <img src="asset/img/gisozi_graduation.JPG" alt="Eden Family School Gisozi">
          <div class="branch-overlay">
            <div class="branch-icon">
              <i class="fas fa-school"></i>
            </div>
          </div>
        </div>
        <div class="branch-content">
          <div class="branch-header">
            <div class="branch-badge gisozi">G</div>
            <div>
              <h3 class="branch-title">Gisozi</h3>
              <p class="branch-subtitle">École maternelle et primaire</p>
            </div>
          </div>
          
          <div class="branch-levels">
            <div class="level-badge maternelle">
              <i class="fas fa-child"></i> Maternelle
            </div>
            <div class="level-badge primaire">
              <i class="fas fa-school"></i> Primaire
            </div>
          </div>
          
          <div class="branch-info">
            <div class="branch-info-item">
              <i class="fas fa-map-marker-alt"></i>
              <span>KG 11 Ave, Gisozi, Kigali</span>
            </div>
            <div class="branch-info-item">
              <i class="fas fa-phone"></i>
              <span>Directrice: 0788410242 | DOS: 0796145647 | DG: 0788883842</span>
            </div>
            <div class="branch-info-item">
              <i class="fas fa-envelope"></i>
              <span>gisozi@edenfamily.edu.rw</span>
            </div>
            <div class="branch-info-item">
              <i class="fas fa-clock"></i>
              <span>Lun-Ven: 7h30 - 18h00</span>
            </div>
          </div>

          <div class="branch-actions">
            <button class="branch-btn gallery" onclick="openBranchGallery('gisozi')">
              <i class="fas fa-images"></i> Galerie
            </button>
            <button class="branch-btn directions" onclick="showGisoziDirections()">
              <i class="fas fa-directions"></i> Itinéraire
            </button>
          </div>
        </div>
      </div>

      <!-- Branche Kacyiru -->
      <div class="branch-card kacyiru">
        <div class="branch-image">
          <img src="asset/img/sport.jpg" alt="Eden Family School Kacyiru">
          <div class="branch-overlay">
            <div class="branch-icon">
              <i class="fas fa-child"></i>
            </div>
          </div>
        </div>
        <div class="branch-content">
          <div class="branch-header">
            <div class="branch-badge kacyiru">K</div>
            <div>
              <h3 class="branch-title">Kacyiru</h3>
              <p class="branch-subtitle">École maternelle</p>
            </div>
          </div>
          
          <div class="branch-levels">
            <div class="level-badge maternelle">
              <i class="fas fa-child"></i> Maternelle
            </div>
          </div>
          
          <div class="branch-info">
            <div class="branch-info-item">
              <i class="fas fa-map-marker-alt"></i>
              <span>KG 17 Ave, Kacyiru, Kigali</span>
            </div>
            <div class="branch-info-item">
              <i class="fas fa-phone"></i>
              <span>Directeur: 0791639766 | Comptable: 0792570074</span>
            </div>
            <div class="branch-info-item">
              <i class="fas fa-envelope"></i>
              <span>sergetumbwe@gmail.com</span>
            </div>
            <div class="branch-info-item">
              <i class="fas fa-clock"></i>
              <span>Lun-Ven: 7h30 - 17h30</span>
            </div>
          </div>

          <div class="branch-actions">
            <button class="branch-btn gallery" onclick="openBranchGallery('kacyiru')">
              <i class="fas fa-images"></i> Galerie
            </button>
            <button class="branch-btn directions" onclick="showKacyiruDirections()">
              <i class="fas fa-directions"></i> Itinéraire
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Features Section -->
    <div class="branches-features">
      <h3 class="features-title"><i class="fas fa-star"></i> Notre Approche Éducative</h3>
      <div class="features-grid">
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-child"></i>
          </div>
          <h4>Éveil précoce</h4>
          <p>Notre approche maternelle privilégie l'éveil sensoriel et le développement global</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-book"></i>
          </div>
          <h4>Fondamentaux solides</h4>
          <p>Au primaire, nous bâtissons des bases académiques solides pour chaque élève</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-heart"></i>
          </div>
          <h4>Environnement bienveillant</h4>
          <p>Chaque enfant est accueilli dans un cadre sécurisé et stimulant</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-users"></i>
          </div>
          <h4>Suivi personnalisé</h4>
          <p>Un accompagnement adapté au rythme de développement de chaque enfant</p>
        </div>
      </div>
    </div>

    <!-- Map Section -->
    <div class="branches-map">
      <div class="map-container">
        <div class="map-overlay">
          <h3 class="map-title"><i class="fas fa-map"></i> Nos Campus à Kigali</h3>
          <p class="map-description">Trois emplacements stratégiques pour servir les familles de Kigali</p>
          <div style="display: flex; gap: 1rem; margin-top: 1rem; flex-wrap: wrap; justify-content: center;">
            <div style="display: flex; align-items: center; gap: 0.5rem;">
              <div style="width: 15px; height: 15px; background: var(--branch-kimisagara); border-radius: 50%;"></div>
              <span>Kimisagara - Maternelle</span>
            </div>
            <div style="display: flex; align-items: center; gap: 0.5rem;">
              <div style="width: 15px; height: 15px; background: var(--branch-gisozi); border-radius: 50%;"></div>
              <span>Gisozi - Maternelle & Primaire</span>
            </div>
            <div style="display: flex; align-items: center; gap: 0.5rem;">
              <div style="width: 15px; height: 15px; background: var(--branch-kacyiru); border-radius: 50%;"></div>
              <span>Kacyiru - Maternelle</span>
            </div>
          </div>
          <div style="margin-top: 1rem;">
            <button class="branch-btn" onclick="openAllBranchesMap()" style="background: var(--accent-color); color: white; border: none;">
              <i class="fas fa-map-marked-alt"></i> Voir tous nos emplacements
            </button>
          </div>
        </div>
        <div class="map-marker kimisagara" data-branch="Kimisagara - Maternelle" onclick="showBranchInfo('kimisagara')"></div>
        <div class="map-marker gisozi" data-branch="Gisozi - Maternelle & Primaire" onclick="showBranchInfo('gisozi')"></div>
        <div class="map-marker kacyiru" data-branch="Kacyiru - Maternelle" onclick="showBranchInfo('kacyiru')"></div>
      </div>
    </div>
  </section>

  <!-- Section Galerie -->
  <section id="galerie">
    <h2 class="section-title"><i class="fas fa-images"></i> Galerie</h2>
    <div class="gallery-grid">
      <div class="gallery-item" onclick="openGalleryModal(0)">
        <img src="asset/img/kimisagara.jpg" alt="Nos Salles de Classe Modernes et bien équipées">
        <div class="gallery-overlay">
          <h3>Eden Family school kimisagara</h3>
          <p>École située à Kimisagara, offrant un enseignement de qualité axé sur l’excellence</p>
        </div>
      </div>
      <div class="gallery-item" onclick="openGalleryModal(1)">
        <img src="asset/img/gisozi_graduation2.JPG" alt="Nos Élèves Passionnés par l'apprentissage">
        <div class="gallery-overlay">
          <h3>Nos Élèves</h3>
          <p>Passionnés par l'apprentissage</p>
        </div>
      </div>
      <div class="gallery-item" onclick="openGalleryModal(2)">
        <img src="asset/img/sport2.jpg" alt="Activités Sports et culture">
        <div class="gallery-overlay">
          <h3>Activités</h3>
          <p>Sports et culture</p>
        </div>
      </div>
      <div class="gallery-item" onclick="openGalleryModal(3)">
        <img src="asset/img/club_de_dance.jpg" alt="Bibliothèque Riche collection de livres">
        <div class="gallery-overlay">
          <h3>Bibliothèque</h3>
          <p>Riche collection de livres</p>
        </div>
      </div>
      <div class="gallery-item" onclick="openGalleryModal(4)">
        <img src="asset/img/gisozi_graduation.JPG" alt="Laboratoires Sciences pratiques">
        <div class="gallery-overlay">
          <h3>Laboratoires</h3>
          <p>Sciences pratiques</p>
        </div>
      </div>
      <div class="gallery-item" onclick="openGalleryModal(5)">
        <img src="asset/img/love_eden.jpg" alt="Cour de Récréation Sécurisée et amusante">
        <div class="gallery-overlay">
          <h3>Cour de Récréation</h3>
          <p>Sécurisée et amusante</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Académique -->
  <section id="academique" style="display: none;">
    <h2 class="section-title">Activités Académiques</h2>
    <p style="text-align: center; margin-bottom: 2rem; color: #666; max-width: 800px; margin: 0 auto 3rem; animation: fadeIn 1s ease-out 0.5s both;">
      Accédez à toutes les informations académiques de votre enfant
    </p>
    
    <div class="academic-grid">
      <a href="#" class="academic-card" onclick="showHomework()">
        <i class="fas fa-book"></i>
        <h3>Devoirs</h3>
        <p>Consultez et téléchargez les devoirs à faire</p>
        <span class="academic-badge" id="devoirsCount">5 nouveaux</span>
      </a>
      
      <a href="#" class="academic-card" onclick="showExamensPage()">
        <i class="fas fa-file-alt"></i>
        <h3>Examens</h3>
        <p>Sujets et résultats des examens</p>
        <span class="academic-badge">Prochain: 15/12</span>
      </a>
      
      <a href="#" class="academic-card" onclick="showVacancesPage()">
        <i class="fas fa-umbrella-beach"></i>
        <h3>Travaux de Vacances</h3>
        <p>Activités et devoirs pour les vacances</p>
        <span class="academic-badge">Nouveau</span>
      </a>
      
      <a href="#" class="academic-card" onclick="showTestsPage()">
        <i class="fas fa-clipboard-check"></i>
        <h3>Tests & Évaluations</h3>
        <p>Tests continus et évaluations</p>
        <span class="academic-badge">3 à venir</span>
      </a>
    </div>

    <!-- Pages académiques (inchangées) -->
    <!-- ... (le reste du code HTML des pages académiques reste identique) ... -->
  </section>

  <!-- Section Bibliothèque -->
  <section id="bibliotheque">
    <h2 class="section-title"><i class="fas fa-book-reader"></i> Bibliothèque de Lecture</h2>
    <div class="library-container">
      <div class="library-level-buttons">
        <button class="level-btn" onclick="showLibrary('maternelle')">
          <i class="fas fa-child"></i> MATERNELLE
        </button>
        <button class="level-btn" onclick="showLibrary('primaire')">
          <i class="fas fa-school"></i> ÉCOLE PRIMAIRE
        </button>
      </div>
      
      <div style="text-align: center; margin-top: 2rem;">
        <h3><i class="fas fa-search"></i> Recherche de Livres</h3>
        <div style="max-width: 500px; margin: 1rem auto;">
          <input type="text" id="bookSearch" placeholder="Rechercher un livre par titre ou auteur..." 
                 style="width: 100%; padding: 1rem; border-radius: 25px; border: 2px solid #ddd; font-family: 'Poppins';">
          <button class="btn-primary" onclick="searchBooks()" style="margin-top: 1rem;">
            <i class="fas fa-search"></i> Rechercher
          </button>
        </div>
      </div>
      
      <div id="libraryResults" style="margin-top: 2rem;"></div>
      
      <div class="voir-plus-container">
        <button class="voir-plus-btn" onclick="loadMoreBooks()">
          <i class="fas fa-plus"></i> Voir plus de livres
        </button>
      </div>
    </div>
  </section>

  <!-- Section Chaîne YouTube -->
  <section id="youtube">
    <div class="youtube-section">
      <h2><i class="fab fa-youtube"></i> Chaîne YouTube Eden Family School</h2>
      <p>Découvrez notre chaîne YouTube officielle avec des vidéos éducatives, des présentations d'élèves, des événements scolaires et bien plus encore !</p>
      <a href="https://www.youtube.com/@edenfamilyschool" target="_blank" class="youtube-btn">
        <i class="fab fa-youtube"></i> Visiter la chaîne
      </a>
    </div>

    <div class="video-grid">
      <div class="video-card">
        <div class="video-thumbnail">
          <iframe src="https://www.youtube.com/embed/nKl1SQVnS3s" title="Présentation de l'école Eden Family School" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="video-info">
          <h4>Présentation de l'école</h4>
          <p>Découvrez notre école et nos installations</p>
          <a href="https://youtu.be/nKl1SQVnS3s" target="_blank" class="youtube-link">
            <i class="fab fa-youtube"></i> Voir sur YouTube
          </a>
        </div>
      </div>

      <div class="video-card">
        <div class="video-thumbnail">
          <iframe src="https://www.youtube.com/embed/KZzPurEUKW0" title="Activités scolaires Eden Family School" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="video-info">
          <h4>Activités scolaires</h4>
          <p>Les activités quotidiennes de nos élèves</p>
          <a href="https://youtu.be/KZzPurEUKW0" target="_blank" class="youtube-link">
            <i class="fab fa-youtube"></i> Voir sur YouTube
          </a>
        </div>
      </div>

      <div class="video-card">
        <div class="video-thumbnail">
          <iframe src="https://www.youtube.com/embed/ywAuUh3QI4k" title="Dernière vidéo Eden Family School" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="video-info">
          <h4>Dernière vidéo</h4>
          <p>Activités récentes de notre école</p>
          <a href="https://youtu.be/ywAuUh3QI4k" target="_blank" class="youtube-link">
            <i class="fab fa-youtube"></i> Voir sur YouTube
          </a>
        </div>
      </div>

      <div class="video-card">
        <div class="video-thumbnail">
          <iframe src="https://www.youtube.com/embed/Bwa-VT5v1sk" title="Journée sportive Eden Family School" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="video-info">
          <h4>Journée sportive</h4>
          <p>Compétitions sportives de nos élèves</p>
          <a href="https://youtu.be/Bwa-VT5v1sk" target="_blank" class="youtube-link">
            <i class="fab fa-youtube"></i> Voir sur YouTube
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Jeux Éducatifs -->
  <section id="jeux" class="games-section">
    <div class="games-header">
      <h1><i class="fas fa-gamepad"></i> JEUX ÉDUCATIFS</h1>
      <p>Choisissez le niveau et la difficulté adaptés à votre enfant</p>
    </div>

    <div class="games-categories" style="max-width: 1400px; margin: 0 auto;">
      <!-- Sélection de niveau -->
      <div class="level-selection">
        <h3><i class="fas fa-sliders-h"></i> Sélectionnez le niveau et la difficulté</h3>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1.5rem;">
          <div>
            <h4>Niveau scolaire</h4>
            <div class="level-options">
              <div class="level-option selected" onclick="selectLevel('maternelle')" id="level-maternelle">
                <i class="fas fa-child"></i>
                <h5>Maternelle</h5>
                <small>3-5 ans</small>
              </div>
              <div class="level-option" onclick="selectLevel('primaire')" id="level-primaire">
                <i class="fas fa-school"></i>
                <h5>Primaire</h5>
                <small>6-12 ans</small>
              </div>
            </div>
          </div>
          
          <div>
            <h4>Difficulté</h4>
            <div class="level-options">
              <div class="level-option selected" onclick="selectDifficulty('facile')" id="difficulty-facile">
                <i class="fas fa-star"></i>
                <h5>Facile</h5>
                <small>Débutant</small>
              </div>
              <div class="level-option" onclick="selectDifficulty('moyen')" id="difficulty-moyen">
                <i class="fas fa-star-half-alt"></i>
                <h5>Moyen</h5>
                <small>Intermédiaire</small>
              </div>
              <div class="level-option" onclick="selectDifficulty('difficile')" id="difficulty-difficile">
                <i class="fas fa-star"></i>
                <h5>Difficile</h5>
                <small>Avancé</small>
              </div>
            </div>
          </div>
        </div>
        
        <div style="margin-top: 2rem; text-align: center;">
          <button class="btn-primary" onclick="applyGameSettings()" style="max-width: 300px;">
            <i class="fas fa-check"></i> Appliquer les paramètres
          </button>
        </div>
      </div>

      <!-- Catégories de Jeux -->
      <div class="game-categories-grid">
        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-calculator"></i>
          </div>
          <h3>Mathématiques</h3>
          <p id="math-description">Chiffres, additions, soustractions</p>
          <button class="play-category-btn" onclick="startMathGame()">
            <i class="fas fa-play"></i> JOUER
          </button>
        </div>

        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-apple-alt"></i>
          </div>
          <h3>Fruits & Légumes</h3>
          <p>Reconnais les fruits et légumes</p>
          <button class="play-category-btn" onclick="startFruitGame()">
            <i class="fas fa-play"></i> JOUER
          </button>
        </div>

        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-paw"></i>
          </div>
          <h3>Animaux</h3>
          <p>Découvre les animaux du monde</p>
          <button class="play-category-btn" onclick="startAnimalGame()">
            <i class="fas fa-play"></i> JOUER
          </button>
        </div>

        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-palette"></i>
          </div>
          <h3>Couleurs</h3>
          <p>Apprends les couleurs</p>
          <button class="play-category-btn" onclick="startColorGame()">
            <i class="fas fa-play"></i> JOUER
          </button>
        </div>

        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-font"></i>
          </div>
          <h3>Alphabet</h3>
          <p>Lettres et sons de l'alphabet</p>
          <button class="play-category-btn" onclick="startAlphabetGame()">
            <i class="fas fa-play"></i> JOUER
          </button>
        </div>

        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-sort-numeric-up"></i>
          </div>
          <h3>Comptage</h3>
          <p id="counting-description">Compte les objets</p>
          <button class="play-category-btn" onclick="startCountingGame()">
            <i class="fas fa-play"></i> JOUER
          </button>
        </div>
      </div>
      
      <!-- Score Global -->
      <div style="background: var(--white); border-radius: 20px; padding: 2rem; text-align: center; margin-top: 2rem;">
        <h3><i class="fas fa-trophy"></i> Score Global des Jeux</h3>
        <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 2rem; margin-top: 1.5rem;">
          <div>
            <h4 style="color: var(--primary-color);">Score Actuel</h4>
            <div style="font-size: 3rem; font-weight: bold; color: var(--secondary-color);" id="gameScore">0</div>
            <p>points</p>
          </div>
          <div>
            <h4 style="color: var(--primary-color);">Meilleur Score</h4>
            <div style="font-size: 3rem; font-weight: bold; color: var(--accent-color);" id="bestScore">0</div>
            <p>points</p>
          </div>
          <div>
            <h4 style="color: var(--primary-color);">Jeux Complétés</h4>
            <div style="font-size: 3rem; font-weight: bold; color: var(--success-color);" id="gamesCompleted">0</div>
            <p>jeux</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Inscription Scolaire -->
  <section id="inscription" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 4rem 2rem; border-radius: 20px; margin: 3rem 0;position:relative;">
    <h2 class="section-title" style="color: white; margin-bottom: 2rem;"><i class="fas fa-pen-fancy"></i> Formulaire d'Inscription</h2>
    
    <div class="form-inscription-container" style="max-width: 900px; width: 100%; background: white; border-radius: 20px; box-shadow: 0 5px 30px rgba(0,0,0,0.2); overflow: hidden; margin: 0 auto; animation: slideUp 0.6s ease;">
      <!-- En-tête formulaire -->
      <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 2rem; text-align: center; position: relative; overflow: hidden;">
        <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%); animation: shimmer 3s infinite linear;"></div>
        <h3 style="font-size: 1.8em; margin-bottom: 0.5rem; position: relative; z-index: 1;">FORMULAIRE D'INSCRIPTION SCOLAIRE</h3>
        <p style="font-size: 1.1em; margin-bottom: 0; position: relative; z-index: 1;">EDEN FAMILY SCHOOL</p>
      </div>

      <!-- Formulaire -->
      <form id="inscriptionForm" style="padding: 2rem;">
        <!-- Info Enfant -->
        <div style="background: #E8EAF6; padding: 1rem; margin: 1.5rem 0 1rem; border-radius: 8px; font-weight: bold; color: #333; text-align: center;">INFORMATION DE L'ENFANT</div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-user"></i> Nom et prénom *</label>
            <input type="text" id="nomPrenom" name="nomPrenom" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="nomPrenomError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-birthday-cake"></i> Date de naissance *</label>
            <input type="date" id="dateNaissance" name="dateNaissance" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="dateNaissanceError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-school"></i> École de provenance *</label>
            <input type="text" id="ecoleProvenance" name="ecoleProvenance" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="ecoleProvenanceError"></div>
          </div>
        </div>

        <!-- Sexe -->
        <div style="display: flex; flex-direction: column; margin-top: 1.5rem;">
          <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-venus-mars"></i> Sexe *</label>
          <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 0.5rem;">
            <input type="radio" id="garcon" name="sexe" value="GARÇON" required style="display: none;">
            <label for="garcon" style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; padding: 0.5rem 1rem; background: #fff; border: 2px solid #ddd; border-radius: 8px; transition: all 0.3s ease; flex: 0 1 auto;">
              <i class="fas fa-male"></i> GARÇON
            </label>
            <input type="radio" id="fille" name="sexe" value="FILLE" required style="display: none;">
            <label for="fille" style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; padding: 0.5rem 1rem; background: #fff; border: 2px solid #ddd; border-radius: 8px; transition: all 0.3s ease; flex: 0 1 auto;">
              <i class="fas fa-female"></i> FILLE
            </label>
          </div>
          <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="sexeError"></div>
        </div>

        <!-- Niveau Scolaire -->
        <div style="background: #E8EAF6; padding: 1rem; margin: 1.5rem 0 1rem; border-radius: 8px; font-weight: bold; color: #333; text-align: center;">NIVEAU SCOLAIRE</div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-graduation-cap"></i> Section *</label>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 0.5rem;">
              <input type="radio" id="maternelle" name="section" value="MATERNELLE" required style="display: none;">
              <label for="maternelle" style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; padding: 0.5rem 1rem; background: #fff; border: 2px solid #ddd; border-radius: 8px; transition: all 0.3s ease; flex: 0 1 auto;">
                <i class="fas fa-baby"></i> MATERNELLE
              </label>
              <input type="radio" id="primaire" name="section" value="PRIMAIRE" required style="display: none;">
              <label for="primaire" style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; padding: 0.5rem 1rem; background: #fff; border: 2px solid #ddd; border-radius: 8px; transition: all 0.3s ease; flex: 0 1 auto;">
                <i class="fas fa-child"></i> PRIMAIRE
              </label>
            </div>
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="sectionError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column; display: none;" id="niveauMaternelleGroup">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-star"></i> Niveau maternelle *</label>
            <select id="niveauMaternelle" name="niveauMaternelle" style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
              <option value="">Sélectionnez</option>
              <option value="N1">N1</option>
              <option value="N2">N2</option>
              <option value="N3">N3</option>
            </select>
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="niveauMaternelleError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column; display: none;" id="niveauPrimaireGroup">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-book"></i> Niveau primaire *</label>
            <select id="niveauPrimaire" name="niveauPrimaire" style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
              <option value="">Sélectionnez</option>
              <option value="P1">P1</option>
              <option value="P2">P2</option>
              <option value="P3">P3</option>
              <option value="P4">P4</option>
              <option value="P5">P5</option>
            </select>
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="niveauPrimaireError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column; display: none;" id="sdmsGroup">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-id-card"></i> SDMS Code (Obligatoire) *</label>
            <input type="text" id="sdmsCode" name="sdmsCode" placeholder="Code SDMS" style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="sdmsCodeError"></div>
          </div>
        </div>

        <!-- Branche -->
        <div style="background: #E8EAF6; padding: 1rem; margin: 1.5rem 0 1rem; border-radius: 8px; font-weight: bold; color: #333; text-align: center;">BRANCHE</div>
        
        <div style="display: flex; flex-direction: column; margin-top: 1.5rem;">
          <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-map-marker-alt"></i> Sélectionnez la branche *</label>
          <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 0.5rem;">
            <input type="radio" id="brancheKacyiru" name="branche" value="KACYIRU" required style="display: none;">
            <label for="brancheKacyiru" style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; padding: 0.5rem 1rem; background: #fff; border: 2px solid #ddd; border-radius: 8px; transition: all 0.3s ease; flex: 0 1 auto;">
              <i class="fas fa-school" style="color: #9C27B0;"></i> KACYIRU
            </label>
            <input type="radio" id="brancheGisozi" name="branche" value="GISOZI" required style="display: none;">
            <label for="brancheGisozi" style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; padding: 0.5rem 1rem; background: #fff; border: 2px solid #ddd; border-radius: 8px; transition: all 0.3s ease; flex: 0 1 auto;">
              <i class="fas fa-school" style="color: #2196F3;"></i> GISOZI
            </label>
            <input type="radio" id="brancheKimisagara" name="branche" value="KIMISAGARA" required style="display: none;">
            <label for="brancheKimisagara" style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; padding: 0.5rem 1rem; background: #fff; border: 2px solid #ddd; border-radius: 8px; transition: all 0.3s ease; flex: 0 1 auto;">
              <i class="fas fa-school" style="color: #4CAF50;"></i> KIMISAGARA
            </label>
          </div>
          <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="brancheError"></div>
        </div>

        <!-- Contact Info -->
        <div id="contactInfo" style="background: #FFF9C4; padding: 1.5rem; border-radius: 10px; margin: 2rem 0; border-left: 5px solid #FFC107; text-align: center; animation: fadeIn 0.5s ease; display: none;">
          <p id="contactText"></p>
        </div>

        <!-- Transport -->
        <div style="background: #E8EAF6; padding: 1rem; margin: 1.5rem 0 1rem; border-radius: 8px; font-weight: bold; color: #333; text-align: center;">TRANSPORT</div>
        
        <div style="display: flex; flex-direction: column; margin-top: 1.5rem;">
          <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-bus"></i> Transport bus *</label>
          <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 0.5rem;">
            <input type="radio" id="transportOui" name="transport" value="OUI" required style="display: none;">
            <label for="transportOui" style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; padding: 0.5rem 1rem; background: #fff; border: 2px solid #ddd; border-radius: 8px; transition: all 0.3s ease; flex: 0 1 auto;">
              <i class="fas fa-check-circle"></i> OUI
            </label>
            <input type="radio" id="transportNon" name="transport" value="NON" required style="display: none;">
            <label for="transportNon" style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; padding: 0.5rem 1rem; background: #fff; border: 2px solid #ddd; border-radius: 8px; transition: all 0.3s ease; flex: 0 1 auto;">
              <i class="fas fa-times-circle"></i> NON
            </label>
          </div>
          <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="transportError"></div>
        </div>

        <!-- Chef de Famille -->
        <div style="background: #E8EAF6; padding: 1rem; margin: 1.5rem 0 1rem; border-radius: 8px; font-weight: bold; color: #333; text-align: center;">CHEF DE FAMILLE</div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-user-tie"></i> Nom et prénom *</label>
            <input type="text" id="chefNomPrenom" name="chefNomPrenom" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="chefNomPrenomError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-phone"></i> Numéro de téléphone *</label>
            <input type="tel" id="chefTelephone" name="chefTelephone" pattern="[0-9]{10}" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="chefTelephoneError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-id-card"></i> Numéro de pièce d'identité *</label>
            <input type="text" id="chefPieceIdentite" name="chefPieceIdentite" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="chefPieceIdentiteError"></div>
          </div>
        </div>

        <!-- Conjoint (Optionnel) -->
        <div style="background: #E8EAF6; padding: 1rem; margin: 1.5rem 0 1rem; border-radius: 8px; font-weight: bold; color: #333; text-align: center;">CONJOINT(E) (Optionnel)</div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-user-friends"></i> Nom et prénom</label>
            <input type="text" id="conjointNomPrenom" name="conjointNomPrenom" style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
          </div>
          
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-phone"></i> Numéro de téléphone</label>
            <input type="tel" id="conjointTelephone" name="conjointTelephone" pattern="[0-9]{10}" style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
          </div>
          
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-id-card"></i> Numéro de pièce d'identité</label>
            <input type="text" id="conjointPieceIdentite" name="conjointPieceIdentite" style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
          </div>
        </div>

        <!-- Adresse -->
        <div style="background: #E8EAF6; padding: 1rem; margin: 1.5rem 0 1rem; border-radius: 8px; font-weight: bold; color: #333; text-align: center;">ADRESSE</div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem;">
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-city"></i> Ville *</label>
            <select id="ville" name="ville" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
              <option value="">Sélectionnez la ville</option>
              <option value="Kigali">Kigali</option>
              <option value="Butare">Butare</option>
              <option value="Gisenyi">Gisenyi</option>
              <option value="Ruhengeri">Ruhengeri</option>
              <option value="Gitarama">Gitarama</option>
              <option value="Kibungo">Kibungo</option>
            </select>
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="villeError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-map"></i> Secteur *</label>
            <input type="text" id="secteur" name="secteur" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="secteurError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-map-signs"></i> Umurenge *</label>
            <input type="text" id="umurenge" name="umurenge" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="umurengeError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-home"></i> Akagari *</label>
            <input type="text" id="akagari" name="akagari" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="akagariError"></div>
          </div>
          
          <div style="display: flex; flex-direction: column;">
            <label style="margin-bottom: 0.5rem; font-weight: 600; color: #555;"><i class="fas fa-street-view"></i> Umudugudu *</label>
            <input type="text" id="umudugudu" name="umudugudu" required style="padding: 0.8rem 1rem; border: 2px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; font-size: 1em;">
            <div style="color: #ff6b6b; font-size: 0.85em; margin-top: 0.3rem; display: none;" id="umuduguduError"></div>
          </div>
        </div>

        <!-- Bouton d'envoi -->
        <div style="position: relative; margin-top: 2rem; text-align: center;">
          <button type="button" class="btn-primary" id="submitBtn" onclick="submitInscriptionForm()" style="padding: 1rem 2rem; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 50px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 10px; font-size: 1.1em; position: relative; overflow: hidden; z-index: 1;">
            <i class="fas fa-paper-plane"></i> Soumettre l'inscription
          </button>
        </div>
      </form>

      <!-- Message d'erreur -->
      <div id="missingFieldMessage" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #ff6b6b; color: white; padding: 2rem; border-radius: 15px; z-index: 1000; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3); animation: popIn 0.5s ease; display: none;">
        <h3 id="errorTitle">Champ obligatoire manquant !</h3>
        <p id="errorMessage">Veuillez remplir tous les champs obligatoires.</p>
        <button onclick="hideInscriptionErrorMessage()" style="background: white; color: #ff6b6b; border: none; padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; margin-top: 1rem; font-weight: bold;">J'ai compris !</button>
      </div>

      <!-- Message de succès -->
      <div id="successMessage" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; z-index: 1000;">
        <div style="background: white; padding: 3rem; border-radius: 15px; text-align: center; max-width: 500px; animation: slideUp 0.4s ease;">
          <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #4CAF50, #45a049); color: white; font-size: 3em; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);">✓</div>
          <h3>Inscription enregistrée avec succès!</h3>
          <p>Code unique de l'enfant: <strong id="studentCode"></strong></p>
          <p>Les données ont été enregistrées dans notre base de données.</p>
          <button onclick="closeInscriptionSuccessMessage()" style="background: #4CAF50; color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer; margin-top: 1rem; font-weight: bold;">Fermer</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Contact -->
  <section id="contact">
    <h2 class="section-title">Contactez-Nous</h2>
    <div class="contact-cards">
      <div class="contact-card" onclick="showContactOptions('Kimisagara')">
        <i class="fas fa-school fa-3x" style="color: var(--branch-kimisagara); margin-bottom: 1rem;"></i>
        <h3>Kimisagara</h3>
        <p><i class="fas fa-map-marker-alt"></i> KG 7 Ave, Kimisagara, Kigali</p>
        <p><i class="fas fa-phone"></i> 0785892018 / 0791826950</p>
        <small>Cliquez pour les options de contact</small>
      </div>
      <div class="contact-card" onclick="showContactOptions('Gisozi')">
        <i class="fas fa-school fa-3x" style="color: var(--branch-gisozi); margin-bottom: 1rem;"></i>
        <h3>Gisozi</h3>
        <p><i class="fas fa-map-marker-alt"></i> KG 11 Ave, Gisozi, Kigali</p>
        <p><i class="fas fa-phone"></i> 0788410242 / 0796145647</p>
        <small>Cliquez pour les options de contact</small>
      </div>
      <div class="contact-card" onclick="showContactOptions('Kacyiru')">
        <i class="fas fa-school fa-3x" style="color: var(--branch-kacyiru); margin-bottom: 1rem;"></i>
        <h3>Kacyiru</h3>
        <p><i class="fas fa-map-marker-alt"></i> KG 17 Ave, Kacyiru, Kigali</p>
        <p><i class="fas fa-phone"></i> 0791639766 / 0792570074</p>
        <small>Cliquez pour les options de contact</small>
      </div>
    </div>

    <!-- Formulaire de contact -->
    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); margin-top: 3rem;">
      <h3 style="text-align: center; margin-bottom: 2rem;">Formulaire de Contact</h3>
      <form id="contactForm">
        <div class="form-row">
          <input type="text" placeholder="Votre nom" required>
          <input type="email" placeholder="Votre email" required>
        </div>
        <select required>
          <option value="">Sélectionnez une branche</option>
          <option>Kimisagara</option>
          <option>Gisozi</option>
          <option>Kacyiru</option>
        </select>
        <textarea placeholder="Votre message" rows="5" required></textarea>
        <button type="submit" class="btn-primary" style="width: 100%;">
          <i class="fas fa-paper-plane"></i> Envoyer le message
        </button>
      </form>
    </div>
  </section>

  <!-- Modal de choix de contact -->
  <div id="contactOptionsModal" class="modal">
    <div class="modal-content contact-options-modal">
      <div class="modal-header">
        <h2><i class="fas fa-phone-alt"></i> Options de Contact</h2>
        <button class="modal-close" onclick="closeContactOptionsModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <h3 id="contactBranchName" style="text-align: center; margin-bottom: 2rem;"></h3>
        <div class="contact-options">
          <div class="contact-option" onclick="contactByPhone()">
            <i class="fas fa-phone fa-2x" style="margin-bottom: 1rem;"></i>
            <h4>Appeler</h4>
            <p id="contactPhoneNumber"></p>
          </div>
          <div class="contact-option" onclick="contactByEmail()">
            <i class="fas fa-envelope fa-2x" style="margin-bottom: 1rem;"></i>
            <h4>Envoyer un email</h4>
            <p id="contactEmail"></p>
          </div>
          <div class="contact-option" onclick="contactByWhatsApp()">
            <i class="fab fa-whatsapp fa-2x" style="color: #25D366; margin-bottom: 1rem;"></i>
            <h4>WhatsApp</h4>
            <p>Envoyer un message</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3><i class="fas fa-graduation-cap"></i> EDEN FAMILY SCHOOL</h3>
        <p>Excellence et Innovation dans l'éducation. Notre devise "Learning by doing" reflète notre engagement.</p>
        <div style="margin-top: 1rem;">
          <a href="#" style="margin-right: 1rem; font-size: 1.5rem;"><i class="fab fa-facebook"></i></a>
          <a href="#" style="margin-right: 1rem; font-size: 1.5rem;"><i class="fab fa-twitter"></i></a>
          <a href="#" style="margin-right: 1rem; font-size: 1.5rem;"><i class="fab fa-instagram"></i></a>
          <a href="#" style="font-size: 1.5rem;"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
      <div class="footer-section">
        <h3>Contact</h3>
        <p><i class="fas fa-map-marker-alt"></i> Kigali, Rwanda<br>
        <i class="fas fa-envelope"></i> edengracefamilyltd@gmail.com<br>
        <i class="fas fa-phone"></i> +250 788 883 842</p>
      </div>
      <div class="footer-section">
        <h3>Liens rapides</h3>
        <p>
          <a href="#accueil"><i class="fas fa-home"></i> Accueil</a><br>
          <a href="#galerie"><i class="fas fa-images"></i> Galerie</a><br>
          <a href="#jeux"><i class="fas fa-gamepad"></i> Jeux Éducatifs</a><br>
          <a href="#youtube"><i class="fab fa-youtube"></i> YouTube</a>
        </p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2024 Eden Family School - Tous droits réservés</p>
      <p style="margin-top: 0.5rem; font-size: 0.9rem;">
        <a href="#" onclick="showPrivacyPolicy()" style="color: var(--white); margin-right: 1rem;">Politique de confidentialité</a>
        <a href="#" onclick="showTerms()" style="color: var(--white);">Conditions d'utilisation</a>
      </p>
    </div>
  </footer>

  <script>
    // Variables globales
    const CONFIG = {
      selectedLevel: 'maternelle',
      selectedDifficulty: 'facile',
      currentSlide: 0,
      autoSlideInterval: null,
      isAutoSlideEnabled: true,
      isLoggedIn: false,
      currentUser: null,
      gameScore: 0,
      bestScore: 0,
      gamesCompleted: 0,
      audioEnabled: true,
      galleryCurrentPage: 0,
      galleryPerPage: 6
    };

    // Données des jeux avec plusieurs niveaux de difficulté
    const GAMES_DATA = {
      math: {
        maternelle: {
          facile: [
            { 
              question: "Combien font 1 + 1 ?", 
              options: [
                { text: "1", image: "https://cdn-icons-png.flaticon.com/512/2921/2921221.png" },
                { text: "2", image: "https://cdn-icons-png.flaticon.com/512/2921/2921222.png" },
                { text: "3", image: "https://cdn-icons-png.flaticon.com/512/2921/2921223.png" },
                { text: "4", image: "https://cdn-icons-png.flaticon.com/512/2921/2921224.png" }
              ], 
              answer: 1,
              audio: "Un plus un égale combien ?"
            },
            { 
              question: "Combien font 2 + 2 ?", 
              options: [
                { text: "3", image: "https://cdn-icons-png.flaticon.com/512/2921/2921223.png" },
                { text: "4", image: "https://cdn-icons-png.flaticon.com/512/2921/2921224.png" },
                { text: "5", image: "https://cdn-icons-png.flaticon.com/512/2921/2921225.png" },
                { text: "6", image: "https://cdn-icons-png.flaticon.com/512/2921/2921226.png" }
              ], 
              answer: 1,
              audio: "Deux plus deux égale combien ?"
            }
          ],
          moyen: [
            { 
              question: "Combien font 3 + 4 ?", 
              options: [
                { text: "5", image: "https://cdn-icons-png.flaticon.com/512/2921/2921225.png" },
                { text: "6", image: "https://cdn-icons-png.flaticon.com/512/2921/2921226.png" },
                { text: "7", image: "https://cdn-icons-png.flaticon.com/512/2921/2921227.png" },
                { text: "8", image: "https://cdn-icons-png.flaticon.com/512/2921/2921228.png" }
              ], 
              answer: 2,
              audio: "Trois plus quatre égale combien ?"
            }
          ],
          difficile: [
            { 
              question: "Combien font 5 + 6 ?", 
              options: [
                { text: "10", image: "https://cdn-icons-png.flaticon.com/512/2921/2921230.png" },
                { text: "11", image: "https://cdn-icons-png.flaticon.com/512/2921/2921231.png" },
                { text: "12", image: "https://cdn-icons-png.flaticon.com/512/2921/2921232.png" },
                { text: "13", image: "https://cdn-icons-png.flaticon.com/512/2921/2921233.png" }
              ], 
              answer: 1,
              audio: "Cinq plus six égale combien ?"
            }
          ]
        },
        primaire: {
          facile: [
            { 
              question: "Combien font 12 + 8 ?", 
              options: [
                { text: "18", image: "https://cdn-icons-png.flaticon.com/512/2921/2921238.png" },
                { text: "20", image: "https://cdn-icons-png.flaticon.com/512/2921/2921240.png" },
                { text: "22", image: "https://cdn-icons-png.flaticon.com/512/2921/2921242.png" },
                { text: "24", image: "https://cdn-icons-png.flaticon.com/512/2921/2921244.png" }
              ], 
              answer: 1,
              audio: "Douze plus huit égale combien ?"
            }
          ],
          moyen: [
            { 
              question: "Combien font 25 - 13 ?", 
              options: [
                { text: "10", image: "https://cdn-icons-png.flaticon.com/512/2921/2921230.png" },
                { text: "12", image: "https://cdn-icons-png.flaticon.com/512/2921/2921232.png" },
                { text: "13", image: "https://cdn-icons-png.flaticon.com/512/2921/2921233.png" },
                { text: "15", image: "https://cdn-icons-png.flaticon.com/512/2921/2921235.png" }
              ], 
              answer: 1,
              audio: "Vingt-cinq moins treize égale combien ?"
            }
          ],
          difficile: [
            { 
              question: "Combien font 7 × 8 ?", 
              options: [
                { text: "48", image: "https://cdn-icons-png.flaticon.com/512/2921/2921248.png" },
                { text: "54", image: "https://cdn-icons-png.flaticon.com/512/2921/2921254.png" },
                { text: "56", image: "https://cdn-icons-png.flaticon.com/512/2921/2921256.png" },
                { text: "64", image: "https://cdn-icons-png.flaticon.com/512/2921/2921264.png" }
              ], 
              answer: 2,
              audio: "Sept fois huit égale combien ?"
            }
          ]
        }
      },
      fruits: {
        maternelle: {
          facile: [
            { 
              question: "Trouve la pomme", 
              options: [
                { text: "Pomme", image: "https://cdn-icons-png.flaticon.com/512/415/415733.png" },
                { text: "Banane", image: "https://cdn-icons-png.flaticon.com/512/2909/2909761.png" },
                { text: "Orange", image: "https://cdn-icons-png.flaticon.com/512/3082/3082383.png" },
                { text: "Fraise", image: "https://cdn-icons-png.flaticon.com/512/2937/2937251.png" }
              ], 
              answer: 0,
              audio: "Trouve la pomme"
            }
          ],
          moyen: [
            { 
              question: "Trouve la fraise", 
              options: [
                { text: "Cerise", image: "https://cdn-icons-png.flaticon.com/512/2909/2909776.png" },
                { text: "Fraise", image: "https://cdn-icons-png.flaticon.com/512/2937/2937251.png" },
                { text: "Raisin", image: "https://cdn-icons-png.flaticon.com/512/2909/2909792.png" },
                { text: "Ananas", image: "https://cdn-icons-png.flaticon.com/512/2909/2909771.png" }
              ], 
              answer: 1,
              audio: "Trouve la fraise"
            }
          ],
          difficile: [
            { 
              question: "Trouve l'ananas", 
              options: [
                { text: "Mangue", image: "https://cdn-icons-png.flaticon.com/512/2909/2909784.png" },
                { text: "Pastèque", image: "https://cdn-icons-png.flaticon.com/512/2909/2909791.png" },
                { text: "Ananas", image: "https://cdn-icons-png.flaticon.com/512/2909/2909771.png" },
                { text: "Pêche", image: "https://cdn-icons-png.flaticon.com/512/2909/2909798.png" }
              ], 
              answer: 2,
              audio: "Trouve l'ananas"
            }
          ]
        },
        primaire: {
          facile: [
            { 
              question: "Trouve le légume", 
              options: [
                { text: "Carotte", image: "https://cdn-icons-png.flaticon.com/512/2909/2909806.png" },
                { text: "Pomme", image: "https://cdn-icons-png.flaticon.com/512/415/415733.png" },
                { text: "Banane", image: "https://cdn-icons-png.flaticon.com/512/2909/2909761.png" },
                { text: "Orange", image: "https://cdn-icons-png.flaticon.com/512/3082/3082383.png" }
              ], 
              answer: 0,
              audio: "Trouve le légume"
            }
          ],
          moyen: [
            { 
              question: "Trouve le brocoli", 
              options: [
                { text: "Chou-fleur", image: "https://cdn-icons-png.flaticon.com/512/2909/2909777.png" },
                { text: "Brocoli", image: "https://cdn-icons-png.flaticon.com/512/2909/2909773.png" },
                { text: "Salade", image: "https://cdn-icons-png.flaticon.com/512/2909/2909793.png" },
                { text: "Tomate", image: "https://cdn-icons-png.flaticon.com/512/2909/2909789.png" }
              ], 
              answer: 1,
              audio: "Trouve le brocoli"
            }
          ],
          difficile: [
            { 
              question: "Trouve l'aubergine", 
              options: [
                { text: "Courgette", image: "https://cdn-icons-png.flaticon.com/512/2909/2909778.png" },
                { text: "Poivron", image: "https://cdn-icons-png.flaticon.com/512/2909/2909800.png" },
                { text: "Aubergine", image: "https://cdn-icons-png.flaticon.com/512/2909/2909770.png" },
                { text: "Concombre", image: "https://cdn-icons-png.flaticon.com/512/2909/2909775.png" }
              ], 
              answer: 2,
              audio: "Trouve l'aubergine"
            }
          ]
        }
      },
      animaux: {
        maternelle: {
          facile: [
            { 
              question: "Trouve le chat", 
              options: [
                { text: "Chat", image: "https://cdn-icons-png.flaticon.com/512/1998/1998594.png" },
                { text: "Chien", image: "https://cdn-icons-png.flaticon.com/512/1998/1998598.png" },
                { text: "Lapin", image: "https://cdn-icons-png.flaticon.com/512/1998/1998613.png" },
                { text: "Oiseau", image: "https://cdn-icons-png.flaticon.com/512/1998/1998627.png" }
              ], 
              answer: 0,
              audio: "Trouve le chat"
            }
          ],
          moyen: [
            { 
              question: "Trouve l'oiseau", 
              options: [
                { text: "Poisson", image: "https://cdn-icons-png.flaticon.com/512/1998/1998622.png" },
                { text: "Tortue", image: "https://cdn-icons-png.flaticon.com/512/1998/1998628.png" },
                { text: "Oiseau", image: "https://cdn-icons-png.flaticon.com/512/1998/1998627.png" },
                { text: "Hamster", image: "https://cdn-icons-png.flaticon.com/512/1998/1998601.png" }
              ], 
              answer: 2,
              audio: "Trouve l'oiseau"
            }
          ],
          difficile: [
            { 
              question: "Trouve le hamster", 
              options: [
                { text: "Souris", image: "https://cdn-icons-png.flaticon.com/512/1998/1998625.png" },
                { text: "Cochon d'Inde", image: "https://cdn-icons-png.flaticon.com/512/1998/1998599.png" },
                { text: "Hamster", image: "https://cdn-icons-png.flaticon.com/512/1998/1998601.png" },
                { text: "Écureuil", image: "https://cdn-icons-png.flaticon.com/512/1998/1998597.png" }
              ], 
              answer: 2,
              audio: "Trouve le hamster"
            }
          ]
        },
        primaire: {
          facile: [
            { 
              question: "Trouve l'éléphant", 
              options: [
                { text: "Lion", image: "https://cdn-icons-png.flaticon.com/512/1998/1998610.png" },
                { text: "Éléphant", image: "https://cdn-icons-png.flaticon.com/512/1998/1998595.png" },
                { text: "Girafe", image: "https://cdn-icons-png.flaticon.com/512/1998/1998600.png" },
                { text: "Zèbre", image: "https://cdn-icons-png.flaticon.com/512/1998/1998630.png" }
              ], 
              answer: 1,
              audio: "Trouve l'éléphant"
            }
          ],
          moyen: [
            { 
              question: "Trouve le panda", 
              options: [
                { text: "Kangourou", image: "https://cdn-icons-png.flaticon.com/512/1998/1998604.png" },
                { text: "Panda", image: "https://cdn-icons-png.flaticon.com/512/1998/1998619.png" },
                { text: "Koala", image: "https://cdn-icons-png.flaticon.com/512/1998/1998606.png" },
                { text: "Singe", image: "https://cdn-icons-png.flaticon.com/512/1998/1998624.png" }
              ], 
              answer: 1,
              audio: "Trouve le panda"
            }
          ],
          difficile: [
            { 
              question: "Trouve le manchot", 
              options: [
                { text: "Morse", image: "https://cdn-icons-png.flaticon.com/512/1998/1998617.png" },
                { text: "Phoque", image: "https://cdn-icons-png.flaticon.com/512/1998/1998621.png" },
                { text: "Manchot", image: "https://cdn-icons-png.flaticon.com/512/1998/1998615.png" },
                { text: "Ours polaire", image: "https://cdn-icons-png.flaticon.com/512/1998/1998626.png" }
              ], 
              answer: 2,
              audio: "Trouve le manchot"
            }
          ]
        }
      },
      couleurs: {
        maternelle: {
          facile: [
            { 
              question: "Trouve la couleur rouge", 
              options: [
                { text: "Rouge", image: "https://cdn-icons-png.flaticon.com/512/2909/2909797.png" },
                { text: "Bleu", image: "https://cdn-icons-png.flaticon.com/512/2909/2909772.png" },
                { text: "Vert", image: "https://cdn-icons-png.flaticon.com/512/2909/2909780.png" },
                { text: "Jaune", image: "https://cdn-icons-png.flaticon.com/512/2909/2909802.png" }
              ], 
              answer: 0,
              audio: "Trouve la couleur rouge"
            }
          ],
          moyen: [
            { 
              question: "Trouve la couleur verte", 
              options: [
                { text: "Orange", image: "https://cdn-icons-png.flaticon.com/512/2909/2909790.png" },
                { text: "Rose", image: "https://cdn-icons-png.flaticon.com/512/2909/2909796.png" },
                { text: "Vert", image: "https://cdn-icons-png.flaticon.com/512/2909/2909780.png" },
                { text: "Violet", image: "https://cdn-icons-png.flaticon.com/512/2909/2909794.png" }
              ], 
              answer: 2,
              audio: "Trouve la couleur verte"
            }
          ],
          difficile: [
            { 
              question: "Trouve la couleur violette", 
              options: [
                { text: "Marron", image: "https://cdn-icons-png.flaticon.com/512/2909/2909783.png" },
                { text: "Gris", image: "https://cdn-icons-png.flaticon.com/512/2909/2909781.png" },
                { text: "Violet", image: "https://cdn-icons-png.flaticon.com/512/2909/2909794.png" },
                { text: "Noir", image: "https://cdn-icons-png.flaticon.com/512/2909/2909785.png" }
              ], 
              answer: 2,
              audio: "Trouve la couleur violette"
            }
          ]
        },
        primaire: {
          facile: [
            { 
              question: "Mélange bleu + jaune = ?", 
              options: [
                { text: "Vert", image: "https://cdn-icons-png.flaticon.com/512/2909/2909780.png" },
                { text: "Orange", image: "https://cdn-icons-png.flaticon.com/512/2909/2909790.png" },
                { text: "Violet", image: "https://cdn-icons-png.flaticon.com/512/2909/2909794.png" },
                { text: "Rose", image: "https://cdn-icons-png.flaticon.com/512/2909/2909796.png" }
              ], 
              answer: 0,
              audio: "Bleu plus jaune donne quelle couleur ?"
            }
          ],
          moyen: [
            { 
              question: "Mélange rouge + bleu = ?", 
              options: [
                { text: "Vert", image: "https://cdn-icons-png.flaticon.com/512/2909/2909780.png" },
                { text: "Orange", image: "https://cdn-icons-png.flaticon.com/512/2909/2909790.png" },
                { text: "Violet", image: "https://cdn-icons-png.flaticon.com/512/2909/2909794.png" },
                { text: "Marron", image: "https://cdn-icons-png.flaticon.com/512/2909/2909783.png" }
              ], 
              answer: 2,
              audio: "Rouge plus bleu donne quelle couleur ?"
            }
          ],
          difficile: [
            { 
              question: "Mélange toutes les couleurs = ?", 
              options: [
                { text: "Blanc", image: "https://cdn-icons-png.flaticon.com/512/2909/2909779.png" },
                { text: "Noir", image: "https://cdn-icons-png.flaticon.com/512/2909/2909785.png" },
                { text: "Marron", image: "https://cdn-icons-png.flaticon.com/512/2909/2909783.png" },
                { text: "Gris", image: "https://cdn-icons-png.flaticon.com/512/2909/2909781.png" }
              ], 
              answer: 2,
              audio: "Toutes les couleurs mélangées donnent quelle couleur ?"
            }
          ]
        }
      },
      alphabet: {
        maternelle: {
          facile: [
            { 
              question: "Trouve la lettre A", 
              options: [
                { text: "A", image: "https://cdn-icons-png.flaticon.com/512/3208/3208752.png" },
                { text: "B", image: "https://cdn-icons-png.flaticon.com/512/3208/3208753.png" },
                { text: "C", image: "https://cdn-icons-png.flaticon.com/512/3208/3208754.png" },
                { text: "D", image: "https://cdn-icons-png.flaticon.com/512/3208/3208755.png" }
              ], 
              answer: 0,
              audio: "Trouve la lettre A"
            }
          ],
          moyen: [
            { 
              question: "Trouve la lettre M", 
              options: [
                { text: "L", image: "https://cdn-icons-png.flaticon.com/512/3208/3208763.png" },
                { text: "M", image: "https://cdn-icons-png.flaticon.com/512/3208/3208764.png" },
                { text: "N", image: "https://cdn-icons-png.flaticon.com/512/3208/3208765.png" },
                { text: "O", image: "https://cdn-icons-png.flaticon.com/512/3208/3208766.png" }
              ], 
              answer: 1,
              audio: "Trouve la lettre M"
            }
          ],
          difficile: [
            { 
              question: "Trouve la lettre Z", 
              options: [
                { text: "X", image: "https://cdn-icons-png.flaticon.com/512/3208/3208788.png" },
                { text: "Y", image: "https://cdn-icons-png.flaticon.com/512/3208/3208789.png" },
                { text: "Z", image: "https://cdn-icons-png.flaticon.com/512/3208/3208790.png" },
                { text: "W", image: "https://cdn-icons-png.flaticon.com/512/3208/3208787.png" }
              ], 
              answer: 2,
              audio: "Trouve la lettre Z"
            }
          ]
        },
        primaire: {
          facile: [
            { 
              question: "Première lettre de 'maison'", 
              options: [
                { text: "M", image: "https://cdn-icons-png.flaticon.com/512/3208/3208764.png" },
                { text: "A", image: "https://cdn-icons-png.flaticon.com/512/3208/3208752.png" },
                { text: "I", image: "https://cdn-icons-png.flaticon.com/512/3208/3208760.png" },
                { text: "S", image: "https://cdn-icons-png.flaticon.com/512/3208/3208769.png" }
              ], 
              answer: 0,
              audio: "Quelle est la première lettre du mot maison ?"
            }
          ],
          moyen: [
            { 
              question: "Dernière lettre de 'école'", 
              options: [
                { text: "C", image: "https://cdn-icons-png.flaticon.com/512/3208/3208754.png" },
                { text: "O", image: "https://cdn-icons-png.flaticon.com/512/3208/3208766.png" },
                { text: "L", image: "https://cdn-icons-png.flaticon.com/512/3208/3208763.png" },
                { text: "E", image: "https://cdn-icons-png.flaticon.com/512/3208/3208756.png" }
              ], 
              answer: 3,
              audio: "Quelle est la dernière lettre du mot école ?"
            }
          ],
          difficile: [
            { 
              question: "Mot qui commence par 'C'", 
              options: [
                { text: "Maison", image: "https://cdn-icons-png.flaticon.com/512/3075/3075977.png" },
                { text: "Chat", image: "https://cdn-icons-png.flaticon.com/512/1998/1998594.png" },
                { text: "Arbre", image: "https://cdn-icons-png.flaticon.com/512/2909/2909768.png" },
                { text: "Fleur", image: "https://cdn-icons-png.flaticon.com/512/2909/2909774.png" }
              ], 
              answer: 1,
              audio: "Quel mot commence par la lettre C ?"
            }
          ]
        }
      },
      comptage: {
        maternelle: {
          facile: [
            { 
              question: "Compte les pommes", 
              image: "https://cdn-icons-png.flaticon.com/512/415/415733.png",
              count: 3,
              options: [
                { text: "2", image: "https://cdn-icons-png.flaticon.com/512/2921/2921222.png" },
                { text: "3", image: "https://cdn-icons-png.flaticon.com/512/2921/2921223.png" },
                { text: "4", image: "https://cdn-icons-png.flaticon.com/512/2921/2921224.png" },
                { text: "5", image: "https://cdn-icons-png.flaticon.com/512/2921/2921225.png" }
              ], 
              answer: 1,
              audio: "Compte les pommes"
            }
          ],
          moyen: [
            { 
              question: "Compte les étoiles", 
              image: "https://cdn-icons-png.flaticon.com/512/1828/1828884.png",
              count: 5,
              options: [
                { text: "4", image: "https://cdn-icons-png.flaticon.com/512/2921/2921224.png" },
                { text: "5", image: "https://cdn-icons-png.flaticon.com/512/2921/2921225.png" },
                { text: "6", image: "https://cdn-icons-png.flaticon.com/512/2921/2921226.png" },
                { text: "7", image: "https://cdn-icons-png.flaticon.com/512/2921/2921227.png" }
              ], 
              answer: 1,
              audio: "Compte les étoiles"
            }
          ],
          difficile: [
            { 
              question: "Compte les ballons", 
              image: "https://cdn-icons-png.flaticon.com/512/824/824239.png",
              count: 8,
              options: [
                { text: "7", image: "https://cdn-icons-png.flaticon.com/512/2921/2921227.png" },
                { text: "8", image: "https://cdn-icons-png.flaticon.com/512/2921/2921228.png" },
                { text: "9", image: "https://cdn-icons-png.flaticon.com/512/2921/2921229.png" },
                { text: "10", image: "https://cdn-icons-png.flaticon.com/512/2921/2921230.png" }
              ], 
              answer: 1,
              audio: "Compte les ballons"
            }
          ]
        },
        primaire: {
          facile: [
            { 
              question: "Additionne: 2 ballons + 3 ballons", 
              image: "https://cdn-icons-png.flaticon.com/512/824/824239.png",
              count: 5,
              options: [
                { text: "4", image: "https://cdn-icons-png.flaticon.com/512/2921/2921224.png" },
                { text: "5", image: "https://cdn-icons-png.flaticon.com/512/2921/2921225.png" },
                { text: "6", image: "https://cdn-icons-png.flaticon.com/512/2921/2921226.png" },
                { text: "7", image: "https://cdn-icons-png.flaticon.com/512/2921/2921227.png" }
              ], 
              answer: 1,
              audio: "Deux ballons plus trois ballons, combien ça fait ?"
            }
          ],
          moyen: [
            { 
              question: "Soustrais: 10 fleurs - 4 fleurs", 
              image: "https://cdn-icons-png.flaticon.com/512/2909/2909774.png",
              count: 6,
              options: [
                { text: "5", image: "https://cdn-icons-png.flaticon.com/512/2921/2921225.png" },
                { text: "6", image: "https://cdn-icons-png.flaticon.com/512/2921/2921226.png" },
                { text: "7", image: "https://cdn-icons-png.flaticon.com/512/2921/2921227.png" },
                { text: "8", image: "https://cdn-icons-png.flaticon.com/512/2921/2921228.png" }
              ], 
              answer: 1,
              audio: "Dix fleurs moins quatre fleurs, combien ça fait ?"
            }
          ],
          difficile: [
            { 
              question: "Multiplie: 3 groupes de 4 oiseaux", 
              image: "https://cdn-icons-png.flaticon.com/512/1998/1998627.png",
              count: 12,
              options: [
                { text: "10", image: "https://cdn-icons-png.flaticon.com/512/2921/2921230.png" },
                { text: "12", image: "https://cdn-icons-png.flaticon.com/512/2921/2921232.png" },
                { text: "14", image: "https://cdn-icons-png.flaticon.com/512/2921/2921234.png" },
                { text: "16", image: "https://cdn-icons-png.flaticon.com/512/2921/2921236.png" }
              ], 
              answer: 1,
              audio: "Trois groupes de quatre oiseaux, combien ça fait d'oiseaux ?"
            }
          ]
        }
      }
    };

    const GALLERY_IMAGES = [
      { 
        src: 'asset/img/kimisagara.jpg', 
        largeSrc: 'asset/img/kimisagara.jpg',
        title: 'Nos Salles de Classe', 
        desc: 'Modernes et bien équipées',
        date: '2024-10-15',
        category: 'École'
      },
      { 
        src: 'asset/img/gisozi_graduation2.JPG',
        largeSrc: 'asset/img/gisozi_graduation2.JPG',
        title: 'Nos Élèves', 
        desc: 'Passionnés par l\'apprentissage',
        date: '2024-10-20',
        category: 'Élèves'
      },
      { 
        src: 'asset/img/sport2.jpg',
        largeSrc: 'asset/img/sport2.jpg',
        title: 'Activités Sportives', 
        desc: 'Sports et activités culturelles',
        date: '2024-10-18',
        category: 'Activités'
      },
      { 
        src: 'asset/img/club_de_dance.jpg',
        largeSrc: 'asset/img/club_de_dance.jpg',
        title: 'Bibliothèque', 
        desc: 'Riche collection de livres',
        date: '2024-10-22',
        category: 'École'
      },
      { 
        src: 'asset/img/gisozi_graduation.JPG',
        largeSrc: 'asset/img/gisozi_graduation.JPG',
        title: 'Laboratoire', 
        desc: 'Sciences pratiques',
        date: '2024-10-25',
        category: 'École'
      },
      { 
        src: 'asset/img/love_eden.jpg',
        largeSrc: 'asset/img/love_eden.jpg',
        title: 'Cour de Récréation', 
        desc: 'Sécurisée et amusante',
        date: '2024-10-28',
        category: 'École'
      },
      { 
        src: 'asset/img/sport.jpg',
        largeSrc: 'asset/img/sport.jpg',
        title: 'Cérémonie de Remise des Diplômes', 
        desc: 'Célébration des réussites',
        date: '2024-06-30',
        category: 'Événements'
      },
      { 
        src: 'asset/img/kimisagara.jpg',
        largeSrc: 'asset/img/kimisagara.jpg',
        title: 'Atelier Artistique', 
        desc: 'Expression créative',
        date: '2024-10-10',
        category: 'Activités'
      },
      { 
        src: 'asset/img/gisozi_graduation2.JPG',
        largeSrc: 'asset/img/gisozi_graduation2.JPG',
        title: 'Cantine Scolaire', 
        desc: 'Repas équilibrés',
        date: '2024-10-05',
        category: 'École'
      },
      { 
        src: 'asset/img/sport2.jpg',
        largeSrc: 'asset/img/sport2.jpg',
        title: 'Sortie Éducative', 
        desc: 'Apprentissage sur le terrain',
        date: '2024-09-15',
        category: 'Activités'
      },
      { 
        src: 'asset/img/club_de_dance.jpg',
        largeSrc: 'asset/img/club_de_dance.jpg',
        title: 'Projet Scientifique', 
        desc: 'Expérimentations en équipe',
        date: '2024-09-20',
        category: 'Activités'
      },
      { 
        src: 'asset/img/love_eden.jpg',
        largeSrc: 'asset/img/love_eden.jpg',
        title: 'Spectacle de Fin d\'Année', 
        desc: 'Talents artistiques',
        date: '2024-06-25',
        category: 'Événements'
      }
    ];

    const LIBRARY_BOOKS = {
      maternelle: [
        { 
          title: "Le Petit Chaperon Rouge", 
          author: "Charles Perrault", 
          type: "conte",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232688.png",
          audio: "Le Petit Chaperon Rouge",
          description: "Un conte classique adapté aux jeunes enfants"
        },
        { 
          title: "Boucle d'Or", 
          author: "Conte traditionnel", 
          type: "conte",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232691.png",
          audio: "Boucle d'Or",
          description: "L'histoire de Boucle d'Or et les trois ours"
        },
        { 
          title: "Les Trois Petits Cochons", 
          author: "Conte traditionnel", 
          type: "conte",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232695.png",
          audio: "Les Trois Petits Cochons",
          description: "Une histoire sur l'importance du travail bien fait"
        },
        { 
          title: "Mon premier alphabet", 
          author: "Éditions Eden", 
          type: "educatif",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232689.png",
          audio: "Mon premier alphabet",
          description: "Apprendre les lettres en s'amusant"
        },
        { 
          title: "Les Chiffres Magiques", 
          author: "Éditions Eden", 
          type: "educatif",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232690.png",
          audio: "Les Chiffres Magiques",
          description: "Découverte des chiffres de 1 à 10"
        },
        { 
          title: "Les Couleurs de la Nature", 
          author: "Éditions Eden", 
          type: "educatif",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232698.png",
          audio: "Les Couleurs de la Nature",
          description: "Apprendre les couleurs avec les animaux"
        },
        { 
          title: "Les Animaux de la Ferme", 
          author: "Éditions Eden", 
          type: "educatif",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232699.png",
          audio: "Les Animaux de la Ferme",
          description: "Découverte des animaux et de leurs cris"
        },
        { 
          title: "Mes Premiers Mots", 
          author: "Éditions Eden", 
          type: "educatif",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232700.png",
          audio: "Mes Premiers Mots",
          description: "Vocabulaire de base pour les tout-petits"
        }
      ],
      primaire: [
        { 
          title: "Le Petit Prince", 
          author: "Antoine de Saint-Exupéry", 
          type: "roman",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232692.png",
          audio: "Le Petit Prince",
          description: "Un classique de la littérature française"
        },
        { 
          title: "Les Fables de La Fontaine", 
          author: "Jean de La Fontaine", 
          type: "poesie",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232693.png",
          audio: "Les Fables de La Fontaine",
          description: "Fables célèbres avec des morales"
        },
        { 
          title: "Les Aventures de Tom Sawyer", 
          author: "Mark Twain", 
          type: "aventure",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232694.png",
          audio: "Les Aventures de Tom Sawyer",
          description: "Aventures passionnantes d'un jeune garçon"
        },
        { 
          title: "Mathématiques Faciles", 
          author: "Prof. Mathis", 
          type: "educatif",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232696.png",
          audio: "Mathématiques Faciles",
          description: "Exercices progressifs pour progresser en maths"
        },
        { 
          title: "Découverte des Sciences", 
          author: "Dr. Science", 
          type: "educatif",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232697.png",
          audio: "Découverte des Sciences",
          description: "Expériences scientifiques amusantes"
        },
        { 
          title: "Géographie du Monde", 
          author: "Explorateur Globe", 
          type: "educatif",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232701.png",
          audio: "Géographie du Monde",
          description: "Découverte des continents et pays"
        },
        { 
          title: "Histoire de France", 
          author: "Historien Junior", 
          type: "educatif",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232702.png",
          audio: "Histoire de France",
          description: "Les grandes périodes de l'histoire française"
        },
        { 
          title: "Anglais Facile", 
          author: "Teacher English", 
          type: "educatif",
          image: "https://cdn-icons-png.flaticon.com/512/2232/2232703.png",
          audio: "Anglais Facile",
          description: "Premiers pas en anglais"
        }
      ]
    };

    // Variables de jeu
    let currentGame = null;
    let currentQuestion = 0;
    let gameScore = 0;
    let gameQuestions = [];

    // Système de synthèse vocale
    let speechSynthesis = window.speechSynthesis;
    let voices = [];
    let currentVoice = null;

    function loadVoices() {
      voices = speechSynthesis.getVoices();
      
      // Chercher une voix française
      currentVoice = voices.find(voice => voice.lang.includes('fr'));
      
      // Sinon, prendre la première voix disponible
      if (!currentVoice && voices.length > 0) {
        currentVoice = voices[0];
      }
    }

    function speak(text) {
      if (!CONFIG.audioEnabled || !speechSynthesis) return;
      
      speechSynthesis.cancel();
      
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.voice = currentVoice;
      utterance.rate = 0.9;
      utterance.pitch = 1.0;
      utterance.volume = 1;
      
      speechSynthesis.speak(utterance);
    }

    // Navigation
    function scrollToSection(sectionId) {
      const section = document.getElementById(sectionId);
      if (section) {
        const navHeight = document.querySelector('nav').offsetHeight;
        const sectionPosition = section.offsetTop - navHeight;
        window.scrollTo({
          top: sectionPosition,
          behavior: 'smooth'
        });
        closeMobileMenu();
        updateActiveNavLink(sectionId);
      }
    }

    function toggleMenu() {
      const navLinks = document.getElementById('navLinks');
      navLinks.classList.toggle('active');
      document.body.classList.toggle('menu-open');
      document.body.style.overflow = navLinks.classList.contains('active') ? 'hidden' : '';
    }

    function closeMobileMenu() {
      document.getElementById('navLinks').classList.remove('active');
      document.body.classList.remove('menu-open');
      document.body.style.overflow = '';
    }

    function updateActiveNavLink(sectionId) {
      document.querySelectorAll('.nav-links a').forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${sectionId}`) {
          link.classList.add('active');
        }
      });
    }

    // Carousel
    const slides = document.querySelectorAll('.carousel-slide');
    const dots = document.querySelectorAll('.carousel-dot');

    function showSlide(n) {
      slides.forEach(slide => slide.classList.remove('active'));
      dots.forEach(dot => dot.classList.remove('active'));
      
      if (n >= slides.length) CONFIG.currentSlide = 0;
      if (n < 0) CONFIG.currentSlide = slides.length - 1;
      
      slides[CONFIG.currentSlide].classList.add('active');
      dots[CONFIG.currentSlide].classList.add('active');
    }

    function changeSlide(n) {
      CONFIG.currentSlide += n;
      showSlide(CONFIG.currentSlide);
      resetAutoSlide();
    }

    function goToSlide(n) {
      CONFIG.currentSlide = n;
      showSlide(CONFIG.currentSlide);
      resetAutoSlide();
    }

    function startAutoSlide() {
      if (CONFIG.isAutoSlideEnabled) {
        CONFIG.autoSlideInterval = setInterval(() => {
          CONFIG.currentSlide++;
          showSlide(CONFIG.currentSlide);
        }, 5000);
      }
    }

    function resetAutoSlide() {
      clearInterval(CONFIG.autoSlideInterval);
      startAutoSlide();
    }

    // Modal Functions
    function openModal(title, content) {
      document.getElementById('modalTitle').innerHTML = title;
      document.getElementById('modalBody').innerHTML = content;
      document.getElementById('modal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      speechSynthesis.cancel();
      document.getElementById('modal').style.display = 'none';
      document.body.style.overflow = '';
    }

    function openLoginModal() {
      document.getElementById('loginModal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    function closeLoginModal() {
      document.getElementById('loginModal').style.display = 'none';
      document.body.style.overflow = '';
    }

    // Galerie
    function openGalleryModal(index) {
      const image = GALLERY_IMAGES[index];
      const totalImages = GALLERY_IMAGES.length;
      
      // Créer les miniatures
      let thumbnailsHTML = '';
      GALLERY_IMAGES.forEach((img, i) => {
        thumbnailsHTML += `
          <img src="${img.src}" 
               class="gallery-thumbnail ${i === index ? 'active' : ''}" 
               onclick="switchGalleryImage(${i})"
               alt="${img.title}">
        `;
      });
      
      const content = `
        <div class="gallery-modal-content">
          <img src="${image.largeSrc}" alt="${image.title}" class="gallery-modal-image">
          
          <div class="gallery-modal-thumbnails">
            ${thumbnailsHTML}
          </div>
          
          <div class="gallery-modal-info">
            <h3>${image.title}</h3>
            <p><strong>Date:</strong> ${image.date}</p>
            <p><strong>Catégorie:</strong> ${image.category}</p>
            <p>${image.desc}</p>
            
            <div class="gallery-modal-nav" style="margin-top: 1rem;">
              <button class="btn-primary" onclick="switchGalleryImage(${index - 1})" ${index === 0 ? 'disabled' : ''}>
                <i class="fas fa-chevron-left"></i> Précédent
              </button>
              <span>${index + 1} / ${totalImages}</span>
              <button class="btn-primary" onclick="switchGalleryImage(${index + 1})" ${index === totalImages - 1 ? 'disabled' : ''}>
                Suivant <i class="fas fa-chevron-right"></i>
              </button>
            </div>
            
            <div class="gallery-modal-actions" style="margin-top: 1rem;">
              <button class="btn-primary" onclick="downloadImage('${image.largeSrc}', '${image.title}')">
                <i class="fas fa-download"></i> Télécharger
              </button>
              <button class="btn-primary" onclick="shareImage('${image.title}', '${image.largeSrc}')">
                <i class="fas fa-share"></i> Partager
              </button>
            </div>
          </div>
        </div>
      `;
      
      openModal(`<i class="fas fa-image"></i> ${image.title}`, content);
    }

    function switchGalleryImage(index) {
      closeModal();
      setTimeout(() => {
        if (index >= 0 && index < GALLERY_IMAGES.length) {
          openGalleryModal(index);
        }
      }, 300);
    }

    function loadMoreGallery() {
      CONFIG.galleryPerPage += 6;
      const galleryGrid = document.querySelector('.gallery-grid');
      galleryGrid.innerHTML = '';
      
      const imagesToShow = GALLERY_IMAGES.slice(0, CONFIG.galleryPerPage);
      imagesToShow.forEach((image, index) => {
        const galleryItem = document.createElement('div');
        galleryItem.className = 'gallery-item';
        galleryItem.onclick = () => openGalleryModal(index);
        
        galleryItem.innerHTML = `
          <img src="${image.src}" alt="${image.title}">
          <div class="gallery-overlay">
            <h3>${image.title}</h3>
            <p>${image.desc}</p>
          </div>
        `;
        
        galleryGrid.appendChild(galleryItem);
      });
      
      // Cacher le bouton si toutes les images sont affichées
      const voirPlusBtn = document.querySelector('.voir-plus-container button');
      if (CONFIG.galleryPerPage >= GALLERY_IMAGES.length) {
        voirPlusBtn.style.display = 'none';
      }
      
      showToast(`${imagesToShow.length} photos chargées`, 'success');
    }

    // Jeux
    function selectLevel(level) {
      CONFIG.selectedLevel = level;
      document.querySelectorAll('[id^="level-"]').forEach(el => {
        el.classList.remove('selected');
      });
      document.getElementById('level-' + level).classList.add('selected');
      updateGameDescriptions();
    }

    function selectDifficulty(difficulty) {
      CONFIG.selectedDifficulty = difficulty;
      document.querySelectorAll('[id^="difficulty-"]').forEach(el => {
        el.classList.remove('selected');
      });
      document.getElementById('difficulty-' + difficulty).classList.add('selected');
      updateGameDescriptions();
    }

    function updateGameDescriptions() {
      const mathDesc = document.getElementById('math-description');
      const countingDesc = document.getElementById('counting-description');
      
      if (CONFIG.selectedLevel === 'maternelle') {
        if (CONFIG.selectedDifficulty === 'facile') {
          mathDesc.textContent = 'Chiffres de 1 à 5';
          countingDesc.textContent = 'Compte jusqu\'à 5 objets';
        } else if (CONFIG.selectedDifficulty === 'moyen') {
          mathDesc.textContent = 'Additions simples';
          countingDesc.textContent = 'Compte jusqu\'à 10 objets';
        } else {
          mathDesc.textContent = 'Additions jusqu\'à 10';
          countingDesc.textContent = 'Compte jusqu\'à 15 objets';
        }
      } else {
        if (CONFIG.selectedDifficulty === 'facile') {
          mathDesc.textContent = 'Additions et soustractions';
          countingDesc.textContent = 'Calculs simples';
        } else if (CONFIG.selectedDifficulty === 'moyen') {
          mathDesc.textContent = 'Multiplications simples';
          countingDesc.textContent = 'Problèmes de comptage';
        } else {
          mathDesc.textContent = 'Multiplications et divisions';
          countingDesc.textContent = 'Problèmes complexes';
        }
      }
    }

    function applyGameSettings() {
      showToast(`Paramètres appliqués : ${CONFIG.selectedLevel} - ${CONFIG.selectedDifficulty}`, 'success');
    }

    // Fonctions pour démarrer les jeux
    function startMathGame() {
      currentGame = 'math';
      startGame();
    }

    function startFruitGame() {
      currentGame = 'fruits';
      startGame();
    }

    function startAnimalGame() {
      currentGame = 'animaux';
      startGame();
    }

    function startColorGame() {
      currentGame = 'couleurs';
      startGame();
    }

    function startAlphabetGame() {
      currentGame = 'alphabet';
      startGame();
    }

    function startCountingGame() {
      currentGame = 'comptage';
      startGame();
    }

    function startGame() {
      // Require login before starting any game
      const logged = (typeof CONFIG !== 'undefined' && CONFIG.isLoggedIn) || (typeof isLoggedIn !== 'undefined' && isLoggedIn) || false;
      if (!logged) {
        showToast('Veuillez vous connecter pour jouer', 'info');
        // open the existing login modal
        if (typeof openLoginModal === 'function') openLoginModal();
        return;
      }

      // Récupérer les questions pour le jeu sélectionné
      gameQuestions = GAMES_DATA[currentGame][CONFIG.selectedLevel][CONFIG.selectedDifficulty];

      if (!gameQuestions || gameQuestions.length === 0) {
        showToast('Aucune question disponible pour ce niveau', 'warning');
        return;
      }

      currentQuestion = 0;
      gameScore = 0;
      showGameQuestion();
    }

    function showGameQuestion() {
      if (currentQuestion >= gameQuestions.length) {
        endGame();
        return;
      }

      const question = gameQuestions[currentQuestion];
      let optionsHTML = '';
      
      question.options.forEach((option, index) => {
        optionsHTML += `
          <button class="game-option" onclick="checkGameAnswer(${index})">
            <img src="${option.image}" alt="${option.text}" style="width: 60px; height: 60px;">
            <span>${option.text}</span>
          </button>
        `;
      });
      
      const questionImage = question.image ? 
        `<img src="${question.image}" alt="Question" style="max-width: 150px; margin-bottom: 1rem;">` : '';
      
      const content = `
        <div class="game-modal">
          <div class="game-area">
            ${questionImage}
            <div class="game-question">${question.question}</div>
            <div class="game-options">
              ${optionsHTML}
            </div>
            <div class="audio-controls" style="margin-top: 1rem;">
              <button class="audio-btn" onclick="speakQuestion()">
                <i class="fas fa-volume-up"></i>
              </button>
              <button class="audio-btn" onclick="toggleAudio()">
                <i class="fas fa-volume-${CONFIG.audioEnabled ? 'up' : 'mute'}"></i>
              </button>
            </div>
          </div>
          <div class="game-score">
            <div>Score: ${gameScore}</div>
            <div>Question: ${currentQuestion + 1}/${gameQuestions.length}</div>
          </div>
          <div class="game-controls">
            <button class="btn-primary" onclick="closeModal()">
              <i class="fas fa-times"></i> Quitter
            </button>
            <button class="btn-primary" onclick="nextQuestion()" id="nextQuestionBtn" style="display: none;">
              <i class="fas fa-forward"></i> Suivant
            </button>
          </div>
        </div>
      `;
      
      openModal(`<i class="fas fa-gamepad"></i> Jeu ${currentGame.charAt(0).toUpperCase() + currentGame.slice(1)}`, content);
      
      // Lire la question automatiquement
      setTimeout(() => speakQuestion(), 500);
    }

    function speakQuestion() {
      const question = gameQuestions[currentQuestion];
      if (question && question.audio) {
        speak(question.audio);
      }
    }

    function checkGameAnswer(selectedIndex) {
      const question = gameQuestions[currentQuestion];
      const options = document.querySelectorAll('.game-option');
      const nextBtn = document.getElementById('nextQuestionBtn');
      
      // Désactiver tous les boutons
      options.forEach(option => {
        option.disabled = true;
      });
      
      // Marquer la bonne réponse en vert
      options[question.answer].classList.add('correct');
      
      // Si mauvaise réponse, marquer en rouge
      if (selectedIndex !== question.answer) {
        options[selectedIndex].classList.add('incorrect');
        speak("Essaie encore !");
        showToast("Mauvaise réponse", "error");
      } else {
        // Bonne réponse
        gameScore += 10;
        CONFIG.gameScore += 10;
        updateGameScores();
        speak("Bravo ! Bonne réponse !");
        showToast("Bonne réponse ! +10 points", "success");
      }
      
      // Afficher le bouton suivant
      if (nextBtn) {
        nextBtn.style.display = 'inline-flex';
      }
    }

    function nextQuestion() {
      currentQuestion++;
      if (currentQuestion < gameQuestions.length) {
        showGameQuestion();
      } else {
        endGame();
      }
    }

    function endGame() {
      CONFIG.gamesCompleted++;
      updateGameScores();
      
      // Mettre à jour le meilleur score
      if (CONFIG.gameScore > CONFIG.bestScore) {
        CONFIG.bestScore = CONFIG.gameScore;
        localStorage.setItem('bestScore', CONFIG.bestScore);
      }
      
      const content = `
        <div style="text-align: center; padding: 2rem;">
          <div style="font-size: 4rem; color: var(--success-color); margin-bottom: 1rem;">
            <i class="fas fa-trophy"></i>
          </div>
          <h3>Jeu Terminé !</h3>
          <p>Votre score final: <strong>${gameScore} points</strong></p>
          <p>Score global: <strong>${CONFIG.gameScore} points</strong></p>
          <p>Meilleur score: <strong>${CONFIG.bestScore} points</strong></p>
          <p>Jeux complétés: <strong>${CONFIG.gamesCompleted}</strong></p>
          
          <div style="margin-top: 2rem;">
            <button class="btn-primary" onclick="closeModal()" style="margin-right: 1rem;">
              <i class="fas fa-times"></i> Fermer
            </button>
            <button class="btn-primary" onclick="restartGame()">
              <i class="fas fa-redo"></i> Rejouer
            </button>
          </div>
        </div>
      `;
      
      openModal('<i class="fas fa-trophy"></i> Résultats du Jeu', content);
      
      // Sauvegarder les scores
      localStorage.setItem('gameScore', CONFIG.gameScore);
      localStorage.setItem('gamesCompleted', CONFIG.gamesCompleted);
    }

    function restartGame() {
      closeModal();
      setTimeout(() => {
        startGame();
      }, 300);
    }

    function updateGameScores() {
      document.getElementById('gameScore').textContent = CONFIG.gameScore;
      document.getElementById('bestScore').textContent = CONFIG.bestScore;
      document.getElementById('gamesCompleted').textContent = CONFIG.gamesCompleted;
    }

    // Bibliothèque
    function showLibrary(level) {
      // Require login for library access (no Firebase connection is used for library)
      const logged = (typeof CONFIG !== 'undefined' && CONFIG.isLoggedIn) || (typeof isLoggedIn !== 'undefined' && isLoggedIn) || false;
      if (!logged) {
        showToast('Veuillez vous connecter pour accéder à la bibliothèque', 'info');
        if (typeof openLoginModal === 'function') openLoginModal();
        return;
      }

      const books = LIBRARY_BOOKS[level];
      const levelName = level === 'maternelle' ? 'Maternelle' : 'École Primaire';
      
      let booksHTML = '<div class="book-grid">';
      books.forEach((book, index) => {
        booksHTML += `
          <div class="book-item" onclick="readBook(${index}, '${level}')">
            <img src="${book.image}" alt="${book.title}" style="width: 80px; height: 80px; object-fit: contain; margin-bottom: 10px;">
            <div class="book-title">${book.title}</div>
            <div class="book-author">${book.author}</div>
            <small style="color: #999;">${book.type}</small>
          </div>
        `;
      });
      booksHTML += '</div>';
      
      const content = `
        <h3><i class="fas fa-book"></i> Bibliothèque ${levelName}</h3>
        <p>Sélectionnez un livre pour le lire:</p>
        ${booksHTML}
        <div class="audio-controls">
          <button class="audio-btn" onclick="toggleAudio()">
            <i class="fas fa-volume-${CONFIG.audioEnabled ? 'up' : 'mute'}"></i>
          </button>
          <span>${CONFIG.audioEnabled ? 'Son activé' : 'Son désactivé'}</span>
        </div>
      `;
      
      openModal(`<i class="fas fa-book"></i> Bibliothèque ${levelName}`, content);
    }

    function searchBooks() {
      // Require login for searching the library
      const logged = (typeof CONFIG !== 'undefined' && CONFIG.isLoggedIn) || (typeof isLoggedIn !== 'undefined' && isLoggedIn) || false;
      if (!logged) {
        showToast('Veuillez vous connecter pour rechercher dans la bibliothèque', 'info');
        if (typeof openLoginModal === 'function') openLoginModal();
        return;
      }

      const searchTerm = document.getElementById('bookSearch').value.toLowerCase();
      if (!searchTerm) {
        showToast("Veuillez entrer un terme de recherche", "warning");
        return;
      }
      
      const allBooks = [...LIBRARY_BOOKS.maternelle, ...LIBRARY_BOOKS.primaire];
      const results = allBooks.filter(book => 
        book.title.toLowerCase().includes(searchTerm) || 
        book.author.toLowerCase().includes(searchTerm) ||
        book.type.toLowerCase().includes(searchTerm)
      );
      
      const libraryResults = document.getElementById('libraryResults');
      
      if (results.length === 0) {
        libraryResults.innerHTML = '<p style="text-align: center; color: #666;">Aucun livre trouvé pour votre recherche.</p>';
        return;
      }
      
      let resultsHTML = '<div class="book-grid">';
      results.forEach((book, index) => {
        const level = LIBRARY_BOOKS.maternelle.includes(book) ? 'maternelle' : 'primaire';
        const bookIndex = LIBRARY_BOOKS[level].indexOf(book);
        
        resultsHTML += `
          <div class="book-item" onclick="readBook(${bookIndex}, '${level}')">
            <img src="${book.image}" alt="${book.title}" style="width: 80px; height: 80px; object-fit: contain; margin-bottom: 10px;">
            <div class="book-title">${book.title}</div>
            <div class="book-author">${book.author}</div>
            <small style="color: #999;">${book.type}</small>
          </div>
        `;
      });
      resultsHTML += '</div>';
      
      libraryResults.innerHTML = `
        <h3 style="text-align: center; margin-bottom: 1rem;">Résultats de recherche (${results.length})</h3>
        ${resultsHTML}
      `;
    }

    function readBook(index, level) {
      // Require login for reading a book
      const logged = (typeof CONFIG !== 'undefined' && CONFIG.isLoggedIn) || (typeof isLoggedIn !== 'undefined' && isLoggedIn) || false;
      if (!logged) {
        showToast('Veuillez vous connecter pour lire ce livre', 'info');
        if (typeof openLoginModal === 'function') openLoginModal();
        return;
      }

      const book = LIBRARY_BOOKS[level][index];
      if (!book) return;
      
      const content = `
        <div style="text-align: center;">
          <img src="${book.image}" alt="${book.title}" style="width: 150px; height: 150px; object-fit: contain; margin-bottom: 1rem;">
          <h3>${book.title}</h3>
          <p><strong>Auteur:</strong> ${book.author}</p>
          <p><strong>Type:</strong> ${book.type}</p>
          <p><strong>Description:</strong> ${book.description}</p>
          
          <div class="audio-controls" style="margin: 2rem 0;">
            <button class="audio-btn" onclick="speak('${book.audio} - ${book.description}')">
              <i class="fas fa-volume-up"></i> Écouter la description
            </button>
            <button class="audio-btn" onclick="toggleAudio()">
              <i class="fas fa-volume-${CONFIG.audioEnabled ? 'up' : 'mute'}"></i>
            </button>
          </div>
          
          <div style="background: #f5f5f5; padding: 1.5rem; border-radius: 10px; margin-top: 1rem; text-align: left;">
            <h4>Lecture du livre:</h4>
            <p>Ce livre est adapté pour le niveau ${level === 'maternelle' ? 'maternelle' : 'primaire'}.</p>
            <p>Pour lire ce livre, vous pouvez:</p>
            <ul style="margin-left: 1.5rem;">
              <li>Le lire en ligne sur notre plateforme</li>
              <li>Le télécharger au format PDF</li>
              <li>L'emprunter à la bibliothèque de l'école</li>
            </ul>
          </div>
          
          <div style="margin-top: 1rem;">
            <button class="btn-primary" onclick="downloadPDF('${book.title}')">
              <i class="fas fa-download"></i> Télécharger PDF
            </button>
            <button class="btn-primary" onclick="showToast('Livre réservé avec succès!', 'success')" style="margin-left: 1rem;">
              <i class="fas fa-bookmark"></i> Réserver
            </button>
          </div>
        </div>
      `;
      
      openModal(`<i class="fas fa-book"></i> ${book.title}`, content);
    }

    function loadMoreBooks() {
      const logged = (typeof CONFIG !== 'undefined' && CONFIG.isLoggedIn) || (typeof isLoggedIn !== 'undefined' && isLoggedIn) || false;
      if (!logged) {
        showToast('Veuillez vous connecter pour voir plus de livres', 'info');
        if (typeof openLoginModal === 'function') openLoginModal();
        return;
      }

      showToast("Fonctionnalité 'Voir plus' activée pour les livres", "success");
    }

    // Activités Académiques
    function showHomework() {
      if (!CONFIG.isLoggedIn) {
        showToast("Veuillez vous connecter pour accéder aux devoirs", "warning");
        openLoginModal();
        return;
      }

      const content = `
        <h3><i class="fas fa-book"></i> Devoirs à faire</h3>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 60%"></div>
        </div>
        <p>3 devoirs sur 5 complétés</p>
        
        <ul class="homework-list">
          <li class="homework-item">
            <div>
              <span class="homework-subject">Mathématiques</span><br>
              <span class="homework-date">Pour le 15 novembre</span>
              <p>Exercices 1 à 10 page 45</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('math_homework')">
              <i class="fas fa-download"></i> PDF
            </button>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Français</span><br>
              <span class="homework-date">Pour le 16 novembre</span>
              <p>Lecture et questions de compréhension</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('french_homework')">
              <i class="fas fa-download"></i> PDF
            </button>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Sciences</span><br>
              <span class="homework-date">Pour le 17 novembre</span>
              <p>Expérience sur les plantes</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('science_homework')">
              <i class="fas fa-download"></i> PDF
            </button>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Histoire</span><br>
              <span class="homework-date">Pour le 18 novembre</span>
              <p>Frise chronologique</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('history_homework')">
              <i class="fas fa-download"></i> PDF
            </button>
          </li>
        </ul>
      `;
      
      openModal('<i class="fas fa-book"></i> Devoirs', content);
    }

    function showTests() {
      const content = `
        <h3><i class="fas fa-clipboard-check"></i> Tests et Examens</h3>
        <div style="background: #f0f8ff; padding: 1rem; border-radius: 10px; margin: 1rem 0;">
          <h4><i class="fas fa-calendar-alt"></i> Prochain test</h4>
          <p><strong>Mathématiques</strong> - 20 novembre 2024</p>
          <p>Salle: 201, Heure: 10:00</p>
          <p>Durée: 1 heure</p>
        </div>
        
        <h4>Tous les tests</h4>
        <ul class="homework-list">
          <li class="homework-item">
            <div>
              <span class="homework-subject">Test de Français</span><br>
              <span class="homework-date">15 novembre 2024</span>
              <p>Grammaire et orthographe</p>
            </div>
            <div>
              <span style="color: var(--success-color); font-weight: bold;">18/20</span>
              <button class="homework-download" onclick="downloadPDF('test_french')">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Test de Mathématiques</span><br>
              <span class="homework-date">10 novembre 2024</span>
              <p>Géométrie et calcul</p>
            </div>
            <div>
              <span style="color: var(--success-color); font-weight: bold;">16/20</span>
              <button class="homework-download" onclick="downloadPDF('test_math')">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Test de Sciences</span><br>
              <span class="homework-date">5 novembre 2024</span>
              <p>Biologie et environnement</p>
            </div>
            <div>
              <span style="color: var(--success-color); font-weight: bold;">19/20</span>
              <button class="homework-download" onclick="downloadPDF('test_science')">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </li>
        </ul>
      `;
      
      openModal('<i class="fas fa-clipboard-check"></i> Tests', content);
    }

    function showExams() {
      const content = `
        <h3><i class="fas fa-file-alt"></i> Calendrier des Examens</h3>
        <div style="background: #fff8e1; padding: 1rem; border-radius: 10px; margin: 1rem 0;">
          <h4><i class="fas fa-exclamation-triangle"></i> Examens du Trimestre</h4>
          <p>Période: 1er-15 décembre 2024</p>
          <p>Les examens auront lieu dans les salles habituelles</p>
        </div>
        
        <h4>Planning des examens</h4>
        <ul class="homework-list">
          <li class="homework-item">
            <div>
              <span class="homework-subject">Français - Examen écrit</span><br>
              <span class="homework-date">2 décembre 2024, 9:00-11:00</span>
              <p>Salle 101 - Coefficient 3</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('exam_french_info')">
              <i class="fas fa-info-circle"></i>
            </button>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Mathématiques - Examen écrit</span><br>
              <span class="homework-date">4 décembre 2024, 9:00-11:00</span>
              <p>Salle 102 - Coefficient 3</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('exam_math_info')">
              <i class="fas fa-info-circle"></i>
            </button>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Sciences - Examen pratique</span><br>
              <span class="homework-date">6 décembre 2024, 14:00-16:00</span>
              <p>Laboratoire - Coefficient 2</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('exam_science_info')">
              <i class="fas fa-info-circle"></i>
            </button>
          </li>
        </ul>
        
        <h4>Anciens examens pour révision</h4>
        <ul class="homework-list">
          <li class="homework-item">
            <div>
              <span class="homework-subject">Français - Examen Blanc</span><br>
              <span class="homework-date">Trimestre 1 - 2024</span>
            </div>
            <button class="homework-download" onclick="downloadPDF('exam_french_practice')">
              <i class="fas fa-download"></i>
            </button>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Mathématiques - Examen Blanc</span><br>
              <span class="homework-date">Trimestre 1 - 2024</span>
            </div>
            <button class="homework-download" onclick="downloadPDF('exam_math_practice')">
              <i class="fas fa-download"></i>
            </button>
          </li>
        </ul>
      `;
      
      openModal('<i class="fas fa-file-alt"></i> Examens', content);
    }

    function showVacationWork() {
      const content = `
        <h3><i class="fas fa-umbrella-beach"></i> Travaux de Vacances</h3>
        <div style="background: #e8f5e9; padding: 1rem; border-radius: 10px; margin: 1rem 0;">
          <h4><i class="fas fa-sun"></i> Vacances de Noël 2024</h4>
          <p>Du 20 décembre 2024 au 6 janvier 2025</p>
          <p>Reprise des cours: 7 janvier 2025</p>
        </div>
        
        <h4>Cahiers de vacances</h4>
        <ul class="homework-list">
          <li class="homework-item">
            <div>
              <span class="homework-subject">Cahier de vacances - Français</span><br>
              <span class="homework-date">Niveau: ${CONFIG.currentUser?.classLevel || 'Tous niveaux'}</span>
              <p>Exercices de lecture, écriture et grammaire</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('vacation_french')">
              <i class="fas fa-download"></i> PDF
            </button>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Cahier de vacances - Mathématiques</span><br>
              <span class="homework-date">Niveau: ${CONFIG.currentUser?.classLevel || 'Tous niveaux'}</span>
              <p>Problèmes et exercices de calcul</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('vacation_math')">
              <i class="fas fa-download"></i> PDF
            </button>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Cahier d'activités créatives</span><br>
              <span class="homework-date">Pour tous les âges</span>
              <p>Dessin, bricolage et jeux éducatifs</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('vacation_creative')">
              <i class="fas fa-download"></i> PDF
            </button>
          </li>
        </ul>
        
        <h4>Projets spéciaux</h4>
        <ul class="homework-list">
          <li class="homework-item">
            <div>
              <span class="homework-subject">Journal de vacances</span><br>
              <span class="homework-date">Projet personnel</span>
              <p>Tenir un journal de ses vacances avec photos et dessins</p>
            </div>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Lecture estivale</span><br>
              <span class="homework-date">1 livre minimum</span>
              <p>Lire au moins un livre pendant les vacances</p>
            </div>
          </li>
        </ul>
      `;
      
      openModal('<i class="fas fa-umbrella-beach"></i> Travaux de Vacances', content);
    }

    function showParentMeetings() {
      const content = `
        <h3><i class="fas fa-users"></i> Réunions Parents-Professeurs</h3>
        
        <div style="background: #e3f2fd; padding: 1rem; border-radius: 10px; margin: 1rem 0;">
          <h4><i class="fas fa-calendar-check"></i> Prochaine réunion</h4>
          <p><strong>25 novembre 2024 à 18:00</strong></p>
          <p>Salle de conférence - Bâtiment principal</p>
          <p>Ordre du jour: Bilan du trimestre et projets pédagogiques</p>
          <button class="btn-primary" style="margin-top: 0.5rem;" onclick="registerForMeeting()">
            <i class="fas fa-calendar-plus"></i> S'inscrire
          </button>
        </div>
        
        <h4>Calendrier des réunions</h4>
        <ul class="homework-list">
          <li class="homework-item">
            <div>
              <span class="homework-subject">Réunion de rentrée</span><br>
              <span class="homework-date">15 octobre 2024</span>
              <p>Présentation de l'année scolaire</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('meeting_october')">
              <i class="fas fa-download"></i>
            </button>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Réunion d'orientation</span><br>
              <span class="homework-date">20 septembre 2024</span>
              <p>Présentation des objectifs pédagogiques</p>
            </div>
            <button class="homework-download" onclick="downloadPDF('meeting_september')">
              <i class="fas fa-download"></i>
            </button>
          </li>
          <li class="homework-item">
            <div>
              <span class="homework-subject">Réunion individualisée</span><br>
              <span class="homework-date">Sur rendez-vous</span>
              <p>Rencontre avec le professeur principal</p>
            </div>
            <button class="homework-download" onclick="scheduleMeeting()">
              <i class="fas fa-calendar"></i>
            </button>
          </li>
        </ul>
        
        <div style="margin-top: 1.5rem;">
          <h4>Thèmes abordés lors des réunions:</h4>
          <ul style="margin-left: 1.5rem; color: #555;">
            <li>Résultats scolaires et progression</li>
            <li>Comportement en classe</li>
            <li>Projets éducatifs</li>
            <li>Sorties scolaires</li>
            <li>Questions des parents</li>
          </ul>
        </div>
      `;
      
      openModal('<i class="fas fa-users"></i> Réunions Parents', content);
    }

    function loadMoreAcademic() {
      showToast("Fonctionnalité 'Voir plus' activée pour les activités académiques", "success");
    }

    // YouTube
    function loadMoreVideos() {
      showToast("Fonctionnalité 'Voir plus' activée pour les vidéos", "success");
    }

    // Utilitaires
    function showToast(message, type = 'info') {
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
        <span>${message}</span>
      `;
      
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideOutRight 0.3s ease';
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function handleScroll() {
      const backToTop = document.querySelector('.back-to-top');
      if (window.scrollY > 300) {
        backToTop.style.display = 'flex';
      } else {
        backToTop.style.display = 'none';
      }
      
      // Mise à jour des liens actifs
      const sections = document.querySelectorAll('section[id]');
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop - 100;
        if (window.scrollY >= sectionTop) {
          current = section.getAttribute('id');
        }
      });
      
      updateActiveNavLink(current);
    }

    // Login
    function handleLogin(event) {
      event.preventDefault();
      
      const email = document.getElementById('parentEmail').value;
      const password = document.getElementById('parentPassword').value;
      const studentName = document.getElementById('studentName').value;
      const classLevel = document.getElementById('classLevel').value;
      
      // Simulation de connexion
      if (email && password && studentName && classLevel) {
        CONFIG.isLoggedIn = true;
        CONFIG.currentUser = {
          email,
          studentName,
          classLevel
        };
        
        closeLoginModal();
        showToast(`Bienvenue ${studentName} !`, 'success');
        
        // Mettre à jour le badge des devoirs
        const homeworkCount = Math.floor(Math.random() * 10) + 1;
        document.getElementById('homeworkCount').textContent = `${homeworkCount} nouveaux`;
      } else {
        showToast('Veuillez remplir tous les champs', 'error');
      }
    }

    function sendContactMessage(event) {
      event.preventDefault();
      
      const name = document.getElementById('contactName').value;
      const email = document.getElementById('contactEmail').value;
      const subject = document.getElementById('contactSubject').value;
      const message = document.getElementById('contactMessage').value;
      
      // Simulation d'envoi
      showToast('Message envoyé avec succès ! Nous vous répondrons dans les 48h.', 'success');
      document.getElementById('contactForm').reset();
    }

    // Fonctions de démo
    function downloadPDF(type) {
      showToast(`Téléchargement du PDF ${type}...`, 'info');
      // Simulation de téléchargement
      setTimeout(() => {
        showToast('PDF téléchargé avec succès !', 'success');
      }, 1000);
    }

    function downloadImage(url, title) {
      showToast(`Image "${title}" téléchargée`, 'success');
    }

    function shareImage(title, url) {
      if (navigator.share) {
        navigator.share({
          title: `Eden Family School - ${title}`,
          text: `Découvrez cette photo de l'école Eden Family School: ${title}`,
          url: url || window.location.href
        });
      } else {
        showToast('Lien copié dans le presse-papier', 'success');
        navigator.clipboard.writeText(`${title} - ${url || window.location.href}`);
      }
    }

    function registerForMeeting() {
      showToast('Inscription à la réunion confirmée ! Un email de confirmation vous a été envoyé.', 'success');
    }

    function scheduleMeeting() {
      const content = `
        <h3><i class="fas fa-calendar"></i> Prendre rendez-vous</h3>
        <form class="login-form" onsubmit="submitMeetingRequest(event)">
          <div class="form-group">
            <label for="meetingDate">Date souhaitée</label>
            <input type="date" id="meetingDate" required>
          </div>
          <div class="form-group">
            <label for="meetingTime">Heure souhaitée</label>
            <select id="meetingTime" required>
              <option value="">Sélectionnez une heure</option>
              <option value="09:00">09:00</option>
              <option value="10:00">10:00</option>
              <option value="11:00">11:00</option>
              <option value="14:00">14:00</option>
              <option value="15:00">15:00</option>
              <option value="16:00">16:00</option>
            </select>
          </div>
          <div class="form-group">
            <label for="meetingReason">Motif du rendez-vous</label>
            <textarea id="meetingReason" rows="3" required></textarea>
          </div>
          <button type="submit" class="btn-primary" style="width: 100%;">
            <i class="fas fa-paper-plane"></i> Envoyer la demande
          </button>
        </form>
      `;
      
      openModal('<i class="fas fa-calendar"></i> Prendre rendez-vous', content);
    }

    function submitMeetingRequest(event) {
      event.preventDefault();
      closeModal();
      showToast('Demande de rendez-vous envoyée ! Vous recevrez une confirmation par email.', 'success');
    }

    function toggleAudio() {
      CONFIG.audioEnabled = !CONFIG.audioEnabled;
      const buttons = document.querySelectorAll('.audio-btn .fa-volume');
      buttons.forEach(button => {
        button.className = CONFIG.audioEnabled ? 'fas fa-volume-up' : 'fas fa-volume-mute';
      });
      showToast(CONFIG.audioEnabled ? 'Son activé' : 'Son désactivé', 'info');
    }

    function showPrivacyPolicy() {
      const content = `
        <h3><i class="fas fa-shield-alt"></i> Politique de Confidentialité</h3>
        
        <h4>Protection des données</h4>
        <p>Nous nous engageons à protéger vos données personnelles.</p>
        
        <h4>Données collectées</h4>
        <ul>
          <li>Informations de contact des parents</li>
          <li>Informations sur les élèves</li>
          <li>Résultats académiques</li>
          <li>Historique de connexion</li>
        </ul>
        
        <h4>Utilisation des données</h4>
        <p>Vos données sont utilisées pour:</p>
        <ul>
          <li>Communication école-parents</li>
          <li>Suivi académique</li>
          <li>Amélioration des services</li>
          <li>Conformité légale</li>
        </ul>
        
        <h4>Vos droits</h4>
        <p>Vous avez le droit d'accéder, modifier et supprimer vos données.</p>
        
        <p style="margin-top: 1rem; color: #666;">
          <small>Pour exercer vos droits: edengracefamilyltd@gmail.com</small>
        </p>
      `;
      
      openModal('<i class="fas fa-shield-alt"></i> Politique de Confidentialité', content);
    }

    function showTerms() {
      const content = `
        <h3><i class="fas fa-file-contract"></i> Conditions d'Utilisation</h3>
        
        <h4>Acceptation</h4>
        <p>En utilisant ce portail, vous acceptez ces conditions.</p>
        
        <h4>Utilisation autorisée</h4>
        <ul>
          <li>Consultation des informations scolaires</li>
          <li>Téléchargement des documents fournis</li>
          <li>Utilisation des jeux éducatifs</li>
          <li>Communication avec l'école</li>
        </ul>
        
        <h4>Restrictions</h4>
        <ul>
          <li>Partage interdit des identifiants</li>
          <li>Usage commercial interdit</li>
          <li>Modification du contenu interdite</li>
          <li>Tentative de piratage interdite</li>
        </ul>
        
        <h4>Responsabilités</h4>
        <p>L'école n'est pas responsable des problèmes techniques indépendants de sa volonté.</p>
        
        <p style="margin-top: 1rem; color: #666;">
          <small>Version 1.0 - Novembre 2024</small>
        </p>
      `;
      
      openModal('<i class="fas fa-file-contract"></i> Conditions d\'Utilisation', content);
    }

    // Initialisation
    window.addEventListener('load', () => {
      // Initialiser les paramètres de jeu
      selectLevel('maternelle');
      selectDifficulty('facile');
      updateGameDescriptions();
      
      // Charger les scores sauvegardés
      CONFIG.gameScore = parseInt(localStorage.getItem('gameScore')) || 0;
      CONFIG.bestScore = parseInt(localStorage.getItem('bestScore')) || 0;
      CONFIG.gamesCompleted = parseInt(localStorage.getItem('gamesCompleted')) || 0;
      updateGameScores();
      
      // Vérifier si l'utilisateur est authentifié et mettre à jour les boutons de navigation
      checkAndUpdateAuthStatus();
      
      // Charger les voix
      if (speechSynthesis) {
        loadVoices();
        speechSynthesis.onvoiceschanged = loadVoices;
      }
      
      // Démarrer le carousel
      startAutoSlide();
      
      // Gestion des liens de navigation
      document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const targetId = this.getAttribute('href').substring(1);
          closeMobileMenu(); // Fermer le menu mobile après clic
          if (targetId) {
            scrollToSection(targetId);
          }
        });
      });
      
      // Ajouter les événements tactiles pour meilleure compatibilité mobile
      const navLinks = document.getElementById('navLinks');
      if (navLinks) {
        navLinks.querySelectorAll('a, button').forEach(element => {
          element.addEventListener('click', () => {
            closeMobileMenu();
          });
        });
      }
      
      // Fermer le menu si on clique en dehors
      document.addEventListener('click', (e) => {
        const navLinks = document.getElementById('navLinks');
        const mobileMenuBtn = document.querySelector('.mobile-menu');
        if (navLinks && navLinks.classList.contains('active')) {
          if (!navLinks.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
            closeMobileMenu();
          }
        }
      });
      
      // Gestion du scroll
      window.addEventListener('scroll', handleScroll);
      handleScroll(); // Initial call
      
      console.log('Portail Eden Family School chargé avec succès!');
    });

    /**
     * Vérifier l'état d'authentification et mettre à jour les boutons
     */
    function checkAndUpdateAuthStatus() {
      const userData = sessionManager?.getUserData();
      const staffAccessLi = document.getElementById('staffAccessLi');
      const parentLoginLi = document.getElementById('parentLoginLi');
      const logoutLi = document.getElementById('logoutLi');
      
      if (userData && userData.email) {
        // Utilisateur connecté - afficher bouton déconnexion
        if (staffAccessLi) staffAccessLi.style.display = 'none';
        if (parentLoginLi) parentLoginLi.style.display = 'none';
        if (logoutLi) {
          logoutLi.style.display = 'block';
          const userNameDisplay = document.getElementById('userNameDisplay');
          if (userNameDisplay) {
            userNameDisplay.textContent = userData.name || userData.email.split('@')[0];
          }
        }
        console.log('✅ Utilisateur authentifié:', userData.email);
      } else {
        // Utilisateur non connecté - afficher boutons de login
        if (staffAccessLi) staffAccessLi.style.display = 'block';
        if (parentLoginLi) parentLoginLi.style.display = 'block';
        if (logoutLi) logoutLi.style.display = 'none';
      }
    }

    /**
     * Déconnexion depuis index.html
     */
    function logoutFromIndex() {
      if (sessionManager) {
        sessionManager.logSecurityEvent('USER_LOGOUT_FROM_INDEX');
        sessionManager.clearSession();
      }
      // Recharger la page pour réinitialiser l'état
      window.location.reload();
    }

    // Gérer la visibilité du carousel sur mobile
    window.addEventListener('resize', () => {
      if (window.innerWidth <= 768) {
        CONFIG.isAutoSlideEnabled = false;
        clearInterval(CONFIG.autoSlideInterval);
      } else {
        CONFIG.isAutoSlideEnabled = true;
        startAutoSlide();
      }
    });

    // Fermer le modal en cliquant à l'extérieur
    window.onclick = function(event) {
      const modal = document.getElementById('modal');
      const loginModal = document.getElementById('loginModal');
      
      if (event.target === modal) {
        closeModal();
      }
      if (event.target === loginModal) {
        closeLoginModal();
      }
    };

    // Gestion des touches du clavier
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        closeModal();
        closeLoginModal();
      }
    });

    /* ===== JAVASCRIPT SECTION BRANCHES ===== */
    
    // Données des branches avec les vrais liens Google Maps
    const BRANCHES_DATA = {
      kimisagara: {
        name: "Kimisagara",
        fullName: "Eden Family School - Kimisagara",
        address: "KG 7 Ave, Kimisagara, Kigali",
        phone: "Comptable: 0785892018 | Responsable: 0791826950",
        email: "kimisagara@edenfamily.edu.rw",
        hours: "Lun-Ven: 7h30 - 17h30",
        levels: ["Maternelle"],
        description: "Notre campus historique, fondé en 2010. Spécialisé dans l'éducation maternelle, offrant un environnement adapté aux jeunes enfants. Un cadre chaleureux qui favorise l'éveil et le développement des tout-petits.",
        features: [
          "Classes spécialement conçues pour les jeunes enfants",
          "Espace de jeux intérieur et extérieur sécurisé",
          "Activités d'éveil sensoriel",
          "Ateliers créatifs adaptés à l'âge",
          "Suivi individualisé du développement"
        ],
        specialties: ["Éveil précoce", "Développement moteur", "Socialisation", "Langage oral"],
        mapLink: "https://maps.app.goo.gl/7NTitr14XKeXg9Hf7"
      },
      gisozi: {
        name: "Gisozi",
        fullName: "Eden Family School - Gisozi",
        address: "KG 11 Ave, Gisozi, Kigali",
        phone: "Directrice: 0788410242 | DOS: 0796145647 | DG: 0788883842",
        email: "gisozi@edenfamily.edu.rw",
        hours: "Lun-Ven: 7h30 - 18h00",
        levels: ["Maternelle", "Primaire"],
        description: "Centre d'excellence offrant un enseignement complet de la maternelle au primaire. Nos programmes sont adaptés à chaque niveau d'âge avec une transition progressive vers les apprentissages fondamentaux.",
        features: [
          "Programmes éducatifs progressifs",
          "Bibliothèque adaptée aux différents âges",
          "Salles spécialisées pour chaque niveau",
          "Activités parascolaires variées",
          "Suivi pédagogique régulier"
        ],
        specialties: ["Transition maternelle-primaire", "Apprentissages fondamentaux", "Développement complet", "Éveil aux sciences"],
        mapLink: "https://maps.app.goo.gl/tDQhe2s72jdmqJjC7"
      },
      kacyiru: {
        name: "Kacyiru",
        fullName: "Eden Family School - Kacyiru",
        address: "KG 17 Ave, Kacyiru, Kigali",
        phone: "Directeur: 0791639766 | Comptable: 0792570074",
        email: "sergetumbwe@gmail.com",
        hours: "Lun-Ven: 7h30 - 17h30",
        levels: ["Maternelle"],
        description: "Campus dédié exclusivement à l'éducation maternelle. Un environnement spécialement conçu pour les jeunes enfants avec des installations modernes adaptées à leur développement physique et cognitif.",
        features: [
          "Classes spacieuses avec matériel adapté",
          "Jardins d'éveil et espaces verts",
          "Ateliers de psychomotricité",
          "Salle de repos pour les plus petits",
          "Équipe éducative spécialisée en petite enfance"
        ],
        specialties: ["Psychomotricité fine", "Éveil artistique", "Développement affectif", "Autonomie progressive"],
        mapLink: "https://maps.app.goo.gl/pYVZStha8ui2VSjaA"
      }
    };

    // Fonctions spécifiques pour chaque branche
    function showKimisagaraDirections() {
      const button = event.currentTarget;
      const originalHTML = button.innerHTML;
      button.innerHTML = '<i class="fas fa-map-marker-alt"></i> Ouverture...';
      
      setTimeout(() => {
        window.open(BRANCHES_DATA.kimisagara.mapLink, '_blank');
        button.innerHTML = originalHTML;
      }, 800);
    }

    function showGisoziDirections() {
      const button = event.currentTarget;
      const originalHTML = button.innerHTML;
      button.innerHTML = '<i class="fas fa-map-marker-alt"></i> Ouverture...';
      
      setTimeout(() => {
        window.open(BRANCHES_DATA.gisozi.mapLink, '_blank');
        button.innerHTML = originalHTML;
      }, 800);
    }

    function showKacyiruDirections() {
      const button = event.currentTarget;
      const originalHTML = button.innerHTML;
      button.innerHTML = '<i class="fas fa-map-marker-alt"></i> Ouverture...';
      
      setTimeout(() => {
        window.open(BRANCHES_DATA.kacyiru.mapLink, '_blank');
        button.innerHTML = originalHTML;
      }, 800);
    }

    function openAllBranchesMap() {
      // Ouvrir une nouvelle page avec les trois emplacements
      const content = `
        <div style="text-align: center; padding: 2rem;">
          <h3><i class="fas fa-map-marked-alt"></i> Tous nos emplacements</h3>
          <p style="margin: 1rem 0;">Sélectionnez une branche pour voir son emplacement sur Google Maps :</p>
          
          <div style="display: grid; grid-template-columns: 1fr; gap: 1rem; max-width: 400px; margin: 0 auto;">
            <button class="branch-btn" onclick="window.open('${BRANCHES_DATA.kimisagara.mapLink}', '_blank')" style="background: var(--branch-kimisagara); color: white; border: none; padding: 1rem;">
              <i class="fas fa-map-marker-alt"></i> Kimisagara - Maternelle
            </button>
            
            <button class="branch-btn" onclick="window.open('${BRANCHES_DATA.gisozi.mapLink}', '_blank')" style="background: var(--branch-gisozi); color: white; border: none; padding: 1rem;">
              <i class="fas fa-map-marker-alt"></i> Gisozi - Maternelle & Primaire
            </button>
            
            <button class="branch-btn" onclick="window.open('${BRANCHES_DATA.kacyiru.mapLink}', '_blank')" style="background: var(--branch-kacyiru); color: white; border: none; padding: 1rem;">
              <i class="fas fa-map-marker-alt"></i> Kacyiru - Maternelle
            </button>
          </div>
          
          <div style="margin-top: 2rem; padding: 1rem; background: #f5f5f5; border-radius: 10px;">
            <p><strong>Conseil :</strong> Vous pouvez également utiliser l'application Google Maps et rechercher :</p>
            <ul style="text-align: left; margin-left: 1.5rem;">
              <li>Eden Family School Kimisagara</li>
              <li>Eden Family School Gisozi</li>
              <li>Eden Family School Kacyiru</li>
            </ul>
          </div>
        </div>
      `;
      
      document.getElementById('modalTitle').innerHTML = '<i class="fas fa-map-marked-alt"></i> Nos Emplacements';
      document.getElementById('modalBody').innerHTML = content;
      document.getElementById('modal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    // Initialisation des animations
    function initAnimations() {
      // Animation des cartes au chargement
      const cards = document.querySelectorAll('.branch-card');
      cards.forEach((card, index) => {
        setTimeout(() => {
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, index * 200 + 300);
      });

      // Animation des éléments de features
      const features = document.querySelectorAll('.feature-item');
      features.forEach((feature, index) => {
        setTimeout(() => {
          feature.style.opacity = '1';
          feature.style.transform = 'translateY(0)';
        }, index * 200 + 600);
      });

      // Effet de ripple sur les boutons
      const buttons = document.querySelectorAll('.branch-btn');
      buttons.forEach(button => {
        button.addEventListener('click', function(e) {
          const ripple = document.createElement('span');
          const rect = this.getBoundingClientRect();
          const size = Math.max(rect.width, rect.height);
          const x = e.clientX - rect.left - size / 2;
          const y = e.clientY - rect.top - size / 2;

          ripple.style.cssText = `
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.7);
            transform: scale(0);
            animation: ripple 0.6s linear;
            width: ${size}px;
            height: ${size}px;
            top: ${y}px;
            left: ${x}px;
            pointer-events: none;
          `;

          this.appendChild(ripple);
          setTimeout(() => ripple.remove(), 600);
        });
      });
    }

    // Fonction pour ouvrir la galerie d'une branche
    function openBranchGallery(branchName) {
      const button = event.currentTarget;
      
      // Animation du bouton
      button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Chargement...';
      button.disabled = true;
      
      // Simulation de chargement
      setTimeout(() => {
        // Redirection vers la page de galerie correspondante
        switch(branchName) {
          case 'kimisagara':
            window.location.href = 'Galerie_Kimisagara.html';
            break;
          case 'gisozi':
            window.location.href = 'Galerie_Gisozi.html';
            break;
          case 'kacyiru':
            window.location.href = 'Galerie_Kacyiru.html';
            break;
        }
      }, 1000);
    }

    // Fonction pour montrer l'itinéraire
    // Fonction pour afficher les informations d'une branche
    function showBranchInfo(branchName) {
      const branch = BRANCHES_DATA[branchName];
      if (!branch) return;
      
      // Animation du marqueur
      const marker = event.target;
      marker.style.animation = 'pulse 0.5s ease';
      
      setTimeout(() => {
        marker.style.animation = 'bounce 2s infinite';
      }, 500);
      
      // Créer le contenu modal
      const content = `
        <div style="max-width: 600px; margin: 0 auto;">
          <div style="text-align: center; margin-bottom: 2rem;">
            <div style="width: 80px; height: 80px; background: linear-gradient(135deg, 
              ${branchName === 'kimisagara' ? '#4CAF50' : branchName === 'gisozi' ? '#2196F3' : '#9C27B0'}, 
              ${branchName === 'kimisagara' ? '#2E7D32' : branchName === 'gisozi' ? '#0D47A1' : '#6A1B9A'});
              border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
              <i class="fas fa-school" style="color: white; font-size: 2rem;"></i>
            </div>
            <h3 style="color: ${branchName === 'kimisagara' ? '#4CAF50' : branchName === 'gisozi' ? '#2196F3' : '#9C27B0'}; margin-bottom: 0.5rem;">
              ${branch.fullName}
            </h3>
            <div style="display: flex; justify-content: center; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 1rem;">
              ${branch.levels.map(level => `
                <span style="padding: 0.3rem 0.8rem; border-radius: 15px; background: ${level === 'Maternelle' ? '#FFF3E0' : '#E3F2FD'}; color: ${level === 'Maternelle' ? '#F57C00' : '#1976D2'}; font-size: 0.85rem; font-weight: 600;">
                  ${level === 'Maternelle' ? '<i class="fas fa-child"></i> ' : '<i class="fas fa-school"></i> '}${level}
                </span>
              `).join('')}
            </div>
          </div>
          
          <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
            <h4 style="color: var(--primary-color); margin-bottom: 1rem;"><i class="fas fa-info-circle"></i> Description</h4>
            <p style="line-height: 1.6;">${branch.description}</p>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div style="background: #e8f5e9; padding: 1.5rem; border-radius: 10px;">
              <h4 style="color: #4CAF50; margin-bottom: 1rem;"><i class="fas fa-star"></i> Spécialités</h4>
              <ul style="margin-left: 1.5rem; color: #555;">
                ${branch.specialties.map(spec => `<li style="margin-bottom: 0.5rem;">${spec}</li>`).join('')}
              </ul>
            </div>
            
            <div style="background: #e3f2fd; padding: 1.5rem; border-radius: 10px;">
              <h4 style="color: #2196F3; margin-bottom: 1rem;"><i class="fas fa-check-circle"></i> Équipements</h4>
              <ul style="margin-left: 1.5rem; color: #555;">
                ${branch.features.map(feature => `<li style="margin-bottom: 0.5rem;">${feature}</li>`).join('')}
              </ul>
            </div>
          </div>
          
          <div style="background: #fff3e0; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
            <h4 style="color: #FF9800; margin-bottom: 1rem;"><i class="fas fa-clock"></i> Informations pratiques</h4>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <div>
                <p style="margin-bottom: 0.5rem;"><strong><i class="fas fa-phone"></i> Téléphone:</strong><br>${branch.phone}</p>
                <p style="margin-bottom: 0.5rem;"><strong><i class="fas fa-envelope"></i> Email:</strong><br>${branch.email}</p>
              </div>
              <div>
                <p style="margin-bottom: 0.5rem;"><strong><i class="fas fa-clock"></i> Horaires:</strong><br>${branch.hours}</p>
                <p style="margin-bottom: 0.5rem;"><strong><i class="fas fa-map-marker-alt"></i> Adresse:</strong><br>${branch.address}</p>
              </div>
            </div>
          </div>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
            <button class="branch-btn gallery" onclick="openBranchGallery('${branchName}')" style="width: 100%; padding: 1rem;">
              <i class="fas fa-images"></i> Voir la Galerie
            </button>
            <button class="branch-btn directions" onclick="window.open('${branch.mapLink}', '_blank')" style="width: 100%; padding: 1rem; background: #ff9800; border-color: #ff9800;">
              <i class="fas fa-directions"></i> Voir sur Google Maps
            </button>
          </div>
        </div>
      `;
      
      // Ouvrir la modal
      document.getElementById('modalTitle').innerHTML = `<i class="fas fa-school"></i> ${branch.name}`;
      document.getElementById('modalBody').innerHTML = content;
      document.getElementById('modal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    // Fonction pour fermer la modal
    function closeModal() {
      document.getElementById('modal').style.display = 'none';
      document.body.style.overflow = '';
    }

    // Initialiser les animations au chargement
    window.addEventListener('load', () => {
      initAnimations();
      
      // Ajouter l'animation ripple aux boutons
      const style = document.createElement('style');
      style.textContent = `
        @keyframes ripple {
          to {
            transform: scale(4);
            opacity: 0;
          }
        }
      `;
      document.head.appendChild(style);
    });

    // Gestion du scroll pour l'animation
    let hasAnimated = false;
    window.addEventListener('scroll', () => {
      const branchesSection = document.getElementById('branches');
      if (!branchesSection) return;
      
      const sectionPosition = branchesSection.getBoundingClientRect().top;
      const screenPosition = window.innerHeight / 1.3;
      
      if (sectionPosition < screenPosition && !hasAnimated) {
        initAnimations();
        hasAnimated = true;
      }
    });

    // ===== FORMULAIRE D'INSCRIPTION =====
    // Données des branches
    const BRANCHES_DATA_INSCRIPTION = {
      KACYIRU: {
        name: "Kacyiru",
        phone: "0791639766 / 0792570074",
        email: "sergetumbwe@gmail.com",
        address: "KG 17 Ave, Kacyiru, Kigali"
      },
      GISOZI: {
        name: "Gisozi",
        phone: "0788410242 / 0796145647",
        email: "gisozi@edenfamily.edu.rw",
        address: "KG 11 Ave, Gisozi, Kigali"
      },
      KIMISAGARA: {
        name: "Kimisagara",
        phone: "0785892018 / 0791826950",
        email: "kimisagara@edenfamily.edu.rw",
        address: "KG 7 Ave, Kimisagara, Kigali"
      }
    };

    // Gestion de la sélection de la section
    document.getElementById('maternelle').addEventListener('change', function() {
      if (this.checked) {
        document.getElementById('niveauMaternelleGroup').style.display = 'block';
        document.getElementById('niveauPrimaireGroup').style.display = 'none';
        document.getElementById('sdmsGroup').style.display = 'none';
        document.getElementById('niveauPrimaire').required = false;
        document.getElementById('sdmsCode').required = false;
        document.getElementById('niveauMaternelle').required = true;
      }
    });

    document.getElementById('primaire').addEventListener('change', function() {
      if (this.checked) {
        document.getElementById('niveauMaternelleGroup').style.display = 'none';
        document.getElementById('niveauPrimaireGroup').style.display = 'block';
        document.getElementById('sdmsGroup').style.display = 'block';
        document.getElementById('niveauMaternelle').required = false;
        document.getElementById('niveauPrimaire').required = true;
        document.getElementById('sdmsCode').required = true;
      }
    });

    // Gestion de la sélection de la branche
    document.querySelectorAll('input[name="branche"]').forEach(radio => {
      radio.addEventListener('change', function() {
        if (this.checked) {
          updateInscriptionContactInfo(this.value);
        }
      });
    });

    function updateInscriptionContactInfo(branche) {
      const contactInfo = document.getElementById('contactInfo');
      const contactText = document.getElementById('contactText');
      const branchData = BRANCHES_DATA_INSCRIPTION[branche];
      
      if (branchData) {
        contactText.innerHTML = `
          <strong>Contact ${branchData.name}:</strong><br>
          <i class="fas fa-phone"></i> ${branchData.phone}<br>
          <i class="fas fa-envelope"></i> ${branchData.email}<br>
          <i class="fas fa-map-marker-alt"></i> ${branchData.address}
        `;
        contactInfo.style.display = 'block';
      }
    }

    // Générer un code étudiant unique avec le même format que comptable.html
    function generateInscriptionStudentCode() {
      const now = new Date();
      const timestamp = now.getTime();
      const random = Math.floor(Math.random() * 1000);
      return `EDU-${now.getFullYear()}${(now.getMonth() + 1).toString().padStart(2, '0')}${now.getDate().toString().padStart(2, '0')}-${timestamp.toString().slice(-6)}${random.toString().padStart(3, '0')}`;
    }

    function hideInscriptionErrorMessage() {
      document.getElementById('missingFieldMessage').style.display = 'none';
    }

    function closeInscriptionSuccessMessage() {
      document.getElementById('successMessage').style.display = 'none';
    }

    // Validation du formulaire
    function validateInscriptionForm() {
      let isValid = true;
      const errors = [];
      
      // Réinitialiser les erreurs
      document.querySelectorAll('.inscription-error').forEach(el => {
        el.style.display = 'none';
        el.textContent = '';
      });
      
      // Validation des champs
      const requiredFields = [
        { id: 'nomPrenom', name: 'Nom de l\'enfant', selector: '#nomPrenomError' },
        { id: 'dateNaissance', name: 'Date de naissance', selector: '#dateNaissanceError' },
        { id: 'ecoleProvenance', name: 'École de provenance', selector: '#ecoleProvenanceError' },
        { id: 'ville', name: 'Ville', selector: '#villeError' },
        { id: 'secteur', name: 'Secteur', selector: '#secteurError' },
        { id: 'umurenge', name: 'Umurenge', selector: '#umurengeError' },
        { id: 'akagari', name: 'Akagari', selector: '#akagariError' },
        { id: 'umudugudu', name: 'Umudugudu', selector: '#umuduguduError' },
        { id: 'chefNomPrenom', name: 'Nom du chef de famille', selector: '#chefNomPrenomError' },
        { id: 'chefTelephone', name: 'Téléphone du chef', selector: '#chefTelephoneError' },
        { id: 'chefPieceIdentite', name: 'Pièce d\'identité du chef', selector: '#chefPieceIdentiteError' }
      ];
      
      // Vérifier chaque champ
      requiredFields.forEach(field => {
        const element = document.getElementById(field.id);
        if (!element.value.trim()) {
          isValid = false;
          errors.push({ field: field.id, message: `${field.name} est requis` });
          const errorEl = document.querySelector(field.selector);
          if (errorEl) {
            errorEl.textContent = `${field.name} est requis`;
            errorEl.style.display = 'block';
          }
        }
      });
      
      // Vérifier le sexe
      if (!document.querySelector('input[name="sexe"]:checked')) {
        isValid = false;
        errors.push({ field: 'sexe', message: 'Le sexe est requis' });
        const errorEl = document.getElementById('sexeError');
        if (errorEl) {
          errorEl.textContent = 'Le sexe est requis';
          errorEl.style.display = 'block';
        }
      }
      
      // Vérifier la section
      if (!document.querySelector('input[name="section"]:checked')) {
        isValid = false;
        errors.push({ field: 'section', message: 'La section est requise' });
        const errorEl = document.getElementById('sectionError');
        if (errorEl) {
          errorEl.textContent = 'La section est requise';
          errorEl.style.display = 'block';
        }
      } else {
        const section = document.querySelector('input[name="section"]:checked').value;
        if (section === 'MATERNELLE') {
          const niveauMaternelle = document.getElementById('niveauMaternelle');
          if (!niveauMaternelle.value) {
            isValid = false;
            errors.push({ field: 'niveauMaternelle', message: 'Le niveau maternelle est requis' });
            const errorEl = document.getElementById('niveauMaternelleError');
            if (errorEl) {
              errorEl.textContent = 'Le niveau maternelle est requis';
              errorEl.style.display = 'block';
            }
          }
        } else if (section === 'PRIMAIRE') {
          const niveauPrimaire = document.getElementById('niveauPrimaire');
          const sdmsCode = document.getElementById('sdmsCode');
          
          if (!niveauPrimaire.value) {
            isValid = false;
            errors.push({ field: 'niveauPrimaire', message: 'Le niveau primaire est requis' });
            const errorEl = document.getElementById('niveauPrimaireError');
            if (errorEl) {
              errorEl.textContent = 'Le niveau primaire est requis';
              errorEl.style.display = 'block';
            }
          }
          
          if (!sdmsCode.value.trim()) {
            isValid = false;
            errors.push({ field: 'sdmsCode', message: 'Le code SDMS est obligatoire pour l\'école primaire' });
            const errorEl = document.getElementById('sdmsCodeError');
            if (errorEl) {
              errorEl.textContent = 'Le code SDMS est obligatoire';
              errorEl.style.display = 'block';
            }
          }
        }
      }
      
      // Vérifier la branche
      if (!document.querySelector('input[name="branche"]:checked')) {
        isValid = false;
        errors.push({ field: 'branche', message: 'La branche est requise' });
        const errorEl = document.getElementById('brancheError');
        if (errorEl) {
          errorEl.textContent = 'La branche est requise';
          errorEl.style.display = 'block';
        }
      }
      
      // Vérifier le transport
      if (!document.querySelector('input[name="transport"]:checked')) {
        isValid = false;
        errors.push({ field: 'transport', message: 'Le transport est requis' });
        const errorEl = document.getElementById('transportError');
        if (errorEl) {
          errorEl.textContent = 'Le transport est requis';
          errorEl.style.display = 'block';
        }
      }
      
      // Vérifier le téléphone du chef
      const chefTelephone = document.getElementById('chefTelephone');
      if (chefTelephone.value && !/^[0-9]{10}$/.test(chefTelephone.value)) {
        isValid = false;
        errors.push({ field: 'chefTelephone', message: 'Le téléphone doit contenir 10 chiffres' });
        const errorEl = document.getElementById('chefTelephoneError');
        if (errorEl) {
          errorEl.textContent = 'Le téléphone doit contenir 10 chiffres';
          errorEl.style.display = 'block';
        }
      }
      
      return { isValid, errors };
    }

    // Soumission du formulaire
    async function submitInscriptionForm() {
      const validation = validateInscriptionForm();
      
      if (!validation.isValid) {
        // Afficher le message d'erreur
        const firstError = validation.errors[0];
        if (firstError) {
          document.getElementById('errorTitle').textContent = `Champ manquant: ${firstError.field}`;
          document.getElementById('errorMessage').textContent = firstError.message;
          document.getElementById('missingFieldMessage').style.display = 'block';
        }
        return;
      }
      
      const submitBtn = document.getElementById('submitBtn');
      const originalText = submitBtn.innerHTML;
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enregistrement en cours...';
      submitBtn.disabled = true;
      
      try {
        // Récupérer les données du formulaire
        const formData = {
          // Informations enfant
          nomPrenom: document.getElementById('nomPrenom').value,
          dateNaissance: document.getElementById('dateNaissance').value,
          ecoleProvenance: document.getElementById('ecoleProvenance').value,
          sexe: document.querySelector('input[name="sexe"]:checked').value,
          
          // Niveau scolaire
          section: document.querySelector('input[name="section"]:checked').value,
          niveau: document.querySelector('input[name="section"]:checked').value === 'MATERNELLE' 
            ? document.getElementById('niveauMaternelle').value 
            : document.getElementById('niveauPrimaire').value,
          sdmsCode: document.getElementById('sdmsCode').value || null,
          
          // Branche et transport
          branche: document.querySelector('input[name="branche"]:checked').value,
          transport: document.querySelector('input[name="transport"]:checked').value,
          
          // Chef de famille
          chefNomPrenom: document.getElementById('chefNomPrenom').value,
          chefTelephone: document.getElementById('chefTelephone').value,
          chefPieceIdentite: document.getElementById('chefPieceIdentite').value,
          
          // Conjoint (optionnel)
          conjointNomPrenom: document.getElementById('conjointNomPrenom').value || null,
          conjointTelephone: document.getElementById('conjointTelephone').value || null,
          conjointPieceIdentite: document.getElementById('conjointPieceIdentite').value || null,
          
          // Adresse
          ville: document.getElementById('ville').value,
          secteur: document.getElementById('secteur').value,
          umurenge: document.getElementById('umurenge').value,
          akagari: document.getElementById('akagari').value,
          umudugudu: document.getElementById('umudugudu').value,
          
          // Métadonnées
          codeUnique: generateInscriptionStudentCode(),
          dateInscription: new Date().toISOString(),
          timestamp: Date.now(),
          statut: 'En attente de validation'
        };
        
        // Envoyer à Firebase
        const database = firebase.database();
        const newInscriptionRef = await database.ref('inscriptions-scolaires').push(formData);
        
        console.log('Inscription enregistrée avec succès:', newInscriptionRef.key);
        
        // Afficher le message de succès
        document.getElementById('studentCode').textContent = formData.codeUnique;
        document.getElementById('successMessage').style.display = 'flex';
        
        // Réinitialiser le formulaire
        document.getElementById('inscriptionForm').reset();
        
      } catch (error) {
        console.error('Erreur lors de l\'enregistrement:', error);
        alert('Une erreur est survenue lors de l\'enregistrement. Veuillez réessayer.');
      } finally {
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
      }
    }

    // Initialisation
    document.addEventListener('DOMContentLoaded', function() {
      // Validation en temps réel du téléphone
      document.getElementById('chefTelephone').addEventListener('input', function(e) {
        this.value = this.value.replace(/[^0-9]/g, '');
      });
      
      const conjointTel = document.getElementById('conjointTelephone');
      if (conjointTel) {
        conjointTel.addEventListener('input', function(e) {
          this.value = this.value.replace(/[^0-9]/g, '');
        });
      }
      
      // Fermer les messages avec ESC
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          hideInscriptionErrorMessage();
          closeInscriptionSuccessMessage();
        }
      });
      
      console.log('Formulaire d\'inscription chargé avec succès!');

      // ===== Contact Functions =====
      // Données des branches (pour le contact)
      const BRANCHES_DATA = {
        kimisagara: {
          name: "Kimisagara",
          phone: "0785892018",
          email: "kimisagara@edenfamily.edu.rw",
          whatsapp: "+250785892018"
        },
        gisozi: {
          name: "Gisozi",
          phone: "0788410242",
          email: "gisozi@edenfamily.edu.rw",
          whatsapp: "+250788410242"
        },
        kacyiru: {
          name: "Kacyiru",
          phone: "0791639766",
          email: "sergetumbwe@gmail.com",
          whatsapp: "+250791639766"
        }
      };

      // Afficher les options de contact
      window.showContactOptions = function(branchName) {
        const branch = BRANCHES_DATA[branchName.toLowerCase()];
        if (!branch) return;

        document.getElementById('contactBranchName').textContent = branch.name;
        document.getElementById('contactPhoneNumber').textContent = branch.phone;
        document.getElementById('contactEmail').textContent = branch.email;
        
        document.getElementById('contactOptionsModal').classList.add('active');
      };

      // Fermer le modal de contact
      window.closeContactOptionsModal = function() {
        document.getElementById('contactOptionsModal').classList.remove('active');
      };

      // Contacter par téléphone
      window.contactByPhone = function() {
        const phone = document.getElementById('contactPhoneNumber').textContent;
        showToast(`Appel vers ${phone}...`, "info");
        // Pour un appel réel, décommentez la ligne suivante :
        // window.location.href = `tel:${phone}`;
      };

      // Contacter par email
      window.contactByEmail = function() {
        const email = document.getElementById('contactEmail').textContent;
        showToast(`Ouverture de l'email vers ${email}...`, "info");
        // Pour un email réel, décommentez la ligne suivante :
        // window.location.href = `mailto:${email}`;
      };

      // Contacter par WhatsApp
      window.contactByWhatsApp = function() {
        const branch = document.getElementById('contactBranchName').textContent.toLowerCase();
        const whatsapp = BRANCHES_DATA[branch].whatsapp;
        showToast(`Ouverture de WhatsApp...`, "info");
        // Pour WhatsApp réel, décommentez la ligne suivante :
        // window.open(`https://wa.me/${whatsapp}`, '_blank');
      };

      // Gestionnaire du formulaire de contact
      const contactForm = document.getElementById('contactForm');
      if (contactForm) {
        contactForm.addEventListener('submit', (e) => {
          e.preventDefault();
          showToast("Message envoyé avec succès !", "success");
          contactForm.reset();
        });
      }
      
      // Animer les cartes de contact au chargement
      const contactCards = document.querySelectorAll('.contact-card');
      contactCards.forEach((card, index) => {
        setTimeout(() => {
          card.classList.add('animate');
        }, 100 * index);
      });
      
      // Fermer le modal avec ESC
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          closeContactOptionsModal();
        }
      });
      
      // Fermer le modal en cliquant à l'extérieur
      document.getElementById('contactOptionsModal').addEventListener('click', (e) => {
        if (e.target === document.getElementById('contactOptionsModal')) {
          closeContactOptionsModal();
        }
      });
    });
  </script>
</body>
</html>